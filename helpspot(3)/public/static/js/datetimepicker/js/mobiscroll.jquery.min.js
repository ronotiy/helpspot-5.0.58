/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":q(t))?e.each(function(){new t.component(this,t)}):("string"==typeof t&&e.each(function(){var e,n=O.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(e,a,s){X[e]=function(n){return t(this,R(n,{component:a,preset:s===!1?void 0:e}),arguments)}}function s(){}function n(e){var t,a=[];for(t in e)a.push(e[t]);return a}function i(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function o(e){return e-parseFloat(e)>=0}function l(e){return"string"==typeof e}function r(e,t,a){return Math.max(t,Math.min(e,a))}function c(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function d(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function u(){ae++,setTimeout(function(){ae--},500)}function m(e,t){if(!t.mbscClick){var a=(e.originalEvent||e).changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),s.isMbscTap=!0,s.isIonicTap=!0,se=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(s),se=!1,u(),setTimeout(function(){delete t.mbscClick})}}function f(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function h(e,t,a,s,n,i){function o(e){b||(s&&e.preventDefault(),b=this,d=f(e,"X"),h=f(e,"Y"),p=!1,v=new Date)}function l(e){b&&!p&&(Math.abs(f(e,"X")-d)>n||Math.abs(f(e,"Y")-h)>n)&&(p=!0)}function r(e){b&&(i&&new Date-v<100||!p?m(e,e.target):u(),b=!1)}function c(){b=!1}var d,h,b,p,v,g=O.$,y=g(t);n=n||9,e.settings.tap&&y.on("touchstart.mbsc",o).on("touchcancel.mbsc",c).on("touchmove.mbsc",l).on("touchend.mbsc",r),y.on("click.mbsc",function(t){s&&t.preventDefault(),a.call(this,t,e)})}function b(e){if(ae&&!se&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function p(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++me;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function v(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function g(e,t,a){"jsonp"==a?p(e,t):v(e,t)}function y(e){var t;for(t in e)if(void 0!==he[e[t]])return!0;return!1}function _(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(y([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function x(e,t){if("touchstart"==e.type)ie(t).attr("data-touch","1");else if(ie(t).attr("data-touch"))return ie(t).removeAttr("data-touch"),!1;return!0}function w(e,t){var a,s,n=getComputedStyle(e[0]);return ie.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]}function C(e){if(e){if(ye[e])return ye[e];var t=ie('<div style="background-color:'+e+';"></div>').appendTo("body"),a=getComputedStyle(t[0]),s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n<130?"#fff":"#000";return t.remove(),ye[e]=i,i}}function T(e,t,a,n,i,o){function l(e){var t;b=ie(this),C=+b.attr("data-step"),v=+b.attr("data-index"),p=!0,i&&e.stopPropagation(),"touchstart"==e.type&&b.closest(".mbsc-no-touch").removeClass("mbsc-no-touch"),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(_=f(e,"X"),w=f(e,"Y"),t=x(e,this)):t=32===e.keyCode,g||!t||b.hasClass("mbsc-disabled")||(u(v,C,e)&&(b.addClass("mbsc-active"),o&&o.addRipple(b.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&ie(document).on("mousemove",r).on("mouseup",c))}function r(e){(Math.abs(_-f(e,"X"))>7||Math.abs(w-f(e,"Y"))>7)&&(p=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&ie(document).off("mousemove",r).off("mouseup",c)}function d(){g=!1,clearInterval(T),b&&(b.removeClass("mbsc-active"),o&&setTimeout(function(){o.removeRipple()},100))}function u(e,t,a){return g||D(e)||(v=e,C=t,y=a,g=!0,p=!1,setTimeout(m,100)),g}function m(){return b&&b.hasClass("mbsc-disabled")?void d():(!g&&p||(p=!0,t(v,C,y,m)),void(g&&a&&(clearInterval(T),T=setInterval(function(){t(v,C,y)},a))))}function h(){e.off("touchstart mousedown keydown",l).off("touchmove",r).off("touchend touchcancel keyup",c)}var b,p,v,g,y,_,w,C,T,D=n||s;return e.on("touchstart mousedown keydown",l).on("touchmove",r).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:h}}function D(e,t,a){function s(){r.style.width="100000px",r.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5}function n(){var e=new Date;c=0,m||(e-f>200&&!l.scrollTop&&!l.scrollLeft&&(f=e,s()),c||(c=ee(n)))}function i(){d||(d=ee(o))}function o(){d=0,s(),t()}var l=void 0,r=void 0,c=void 0,d=void 0,u=void 0,m=void 0,f=0,h=document.createElement("div");return h.innerHTML=Te,h.dir="ltr",u=h.childNodes[1],l=h.childNodes[0],r=l.childNodes[0],e.appendChild(h),l.addEventListener("scroll",i),u.addEventListener("scroll",i),a?a.runOutsideAngular(function(){ee(n)}):ee(n),{detach:function(){e.removeChild(h),m=!0}}}function M(e){return(e+"").replace('"',"___")}function k(e,t,a,s,n,i,o){var l=new Date(e,t,a,s||0,n||0,i||0,o||0);return 23==l.getHours()&&0===(s||0)&&l.setHours(l.getHours()+2),l}function S(e,t,a){if(!t)return null;var s,n,i=de({},je,a),o=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},l=function(e,t,a){var s=""+t;if(o(e))for(;s.length<a;)s="0"+s;return s},r=function(e,t,a,s){return o(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||o("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=r("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=r("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=o("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=l("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":o("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c}function V(e,t,a){var s=de({},je,a),n=H(s.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":q(t))?t.toString():t+"";var i,o=s.shortYearCutoff,l=s.getYear(n),r=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),f=0,h=-1,b=!1,p=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){p(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(_).match(s);return n?(_+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=p(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(_,i[n].length).toLowerCase()==i[n].toLowerCase())return _+=i[n].length,n+1;return 0},y=function(){_++},_=0;for(i=0;i<e.length;i++)if(b)"'"!=e.charAt(i)||p("'")?y():b=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":r=v("m");break;case"M":r=g("M",s.monthNamesShort,s.monthNames);break;case"y":l=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":f=v("s");break;case"a":h=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":h=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":p("'")?y():b=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),d>-1){r=1,c=d;do{var x=32-new Date(l,r-1,32,12).getDate();c>x&&(r++,c-=x)}while(c>x)}u=h==-1?u:h&&u<12?u+12:h||12!=u?u:0;var w=s.getDate(l,r-1,c,u,m,f);return s.getYear(w)!=l||s.getMonth(w)+1!=r||s.getDay(w)!=c?n:w}function Y(e,t){return Math.round((t-e)/864e5)}function A(e){return k(e.getFullYear(),e.getMonth(),e.getDate())}function E(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function P(e,t){var a="",s="";return e&&(t.h&&(s+=c(e.getHours())+":"+c(e.getMinutes()),t.s&&(s+=":"+c(e.getSeconds())),t.u&&(s+="."+c(e.getMilliseconds(),3)),t.tz&&(s+=t.tz)),t.y?(a+=e.getFullYear(),t.m&&(a+="-"+c(e.getMonth()+1),t.d&&(a+="-"+c(e.getDate())),t.h&&(a+="T"+s))):t.h&&(a=s)),a}function $(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)n=e[i[s]-t],n&&(a[s]="tz"==s?n:1)}function W(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return S(a,e,t);if("iso8601"==n)return P(e,t.isoParts)}return e}function H(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=Xe.exec(e))?($(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=Re.exec(e)),n?($(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):V(t,e,a))):null}function F(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function L(e){return e[0].innerWidth||e.innerWidth()}e=e&&e.hasOwnProperty("default")?e.default:e;var O=O||{},I={},N={},q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=e.extend,X={};O.$=e,e.mobiscroll=O,e.fn.mobiscroll=function(e){return R(this,X),t(this,e,arguments)};var z,U,j,B,G=[],J="undefined"!=typeof window,Z=J?navigator.userAgent:"",K=/Safari/.test(Z),Q=Z.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),ee=J&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},te=J&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(Q)?(z="android",U=Z.match(/Android\s+([\d\.]+)/i),U&&(G=U[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Q)?(z="ios",U=Z.match(/OS\s+([\d\_]+)/i),U&&(G=U[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Q)?z="wp":/Windows|MSIE/i.test(Q)&&(z="windows"),j=G[0],B=G[1];var ae=0,se=void 0;J&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,b,!0)}),"android"==z&&j<5&&document.addEventListener("change",function(e){ae&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0)),O.uid="c5d09426";var ne,ie=O.$,oe=+new Date,le={},re={},ce={xsmall:0,small:576,medium:768,large:992,xlarge:1200},de=ie.extend;de(I,{getCoord:f,preventClick:u,vibrate:d}),ne=de(O,{$:ie,version:"4.8.2",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:z,majorVersion:j,minorVersion:B},i18n:{},instances:le,classes:re,util:I,settings:{},setDefaults:function(e){de(this.settings,e)},customTheme:function(e,t){var a,s=O.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(a=0;a<n.length;a++)s[n[a]][e]=de({},s[n[a]][t],{baseTheme:t})}});var ue=function(e,t){function a(e){var t,a;return c.responsive&&(a=e||i.offsetWidth,ie.each(c.responsive,function(e,s){a>=(s.breakpoint||ce[e])&&(t=s)})),t}function n(){ie(e).addClass("mbsc-comp"),e.id?le[e.id]&&le[e.id].destroy():e.id="mobiscroll"+ ++oe,le[e.id]=b,b.__ready=!0}var i,o,l,r,c,d,u,m,f,b=this;b.settings={},b.element=e,b._init=s,b._destroy=s,b._processSettings=s,b._checkResp=function(e){if(b&&b._responsive){var t=a(e);if(r!==t)return r=t,b.init({}),!0}},b.init=function(s,n){var h,p;s&&b.getVal&&(p=b.getVal());for(h in b.settings)delete b.settings[h];c=b.settings,de(t,s),b._hasDef&&(f=ne.settings),de(c,b._defaults,f,t),b._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=ne.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=ne.themes[b._class]?ne.themes[b._class][u]:{}),b._hasLang&&(o=ne.i18n[c.lang]),de(c,d,o,f,t),i=ie(c.context)[0],b._responsive&&(r||(r=a()),de(c,r)),b._processSettings(r||{}),b._presets&&(l=b._presets[c.preset],l&&(l=l.call(e,b,t),de(c,l,t,r))),b._init(s),s&&b.setVal&&b.setVal(void 0===n?p:n,!0),m("onInit")},b.destroy=function(){b&&(b._destroy(),m("onDestroy"),delete le[e.id],b=null)},b.tap=function(e,t,a,s,n){h(b,e,t,a,s,n)},b.trigger=function(a,s){var n,i,o,r=[f,d,l,t];for(i=0;i<4;i++)o=r[i],o&&o[a]&&(n=o[a].call(e,s||{},b));return n},b.option=function(e,a,s){var n={},i=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(c.preset)&&i.push("marked","labels","colors"),"object"===("undefined"==typeof e?"undefined":q(e))?n=e:n[e]=a,i.forEach(function(e){t[e]=c[e]}),b.init(n,s)},b.getInst=function(){return b},t=t||{},m=b.trigger,b.__ready||n()},me=0;I.getJson=g;var fe,he,be,pe,ve,ge,ye={};J&&(he=document.createElement("modernizr").style,be=_(),ge=be.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),fe=void 0!==he.animation?"animationend":"webkitAnimationEnd",ve=void 0!==he.transition,pe=void 0===he.touchAction||"ios"==z&&!K&&(j<12||12==j&&B<2));var _e,xe,we="position:absolute;left:0;top:0;",Ce=we+"right:0;bottom:0;overflow:hidden;z-index:-1;",Te='<div style="'+Ce+'"><div style="'+we+'"></div></div><div style="'+Ce+'"><div style="'+we+'width:200%;height:200%;"></div></div>',De=O.themes,Me=/(iphone|ipod)/i.test(Z)&&j>=7,ke="android"==z,Se="ios"==z,Ve=Se&&8==j,Ye=Se&&j>7,Ae=function(e){e.preventDefault()},Ee="input,select,textarea,button",Pe='textarea,button,input[type="button"],input[type="submit"]',$e=Ee+',[tabindex="0"]',We=function(e,t,a){function n(e){A&&A.removeClass("mbsc-active"),A=ie(this),A.hasClass("mbsc-disabled")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-active"),"mousedown"===e.type?ie(document).on("mouseup",i):"pointerdown"===e.type&&ie(document).on("pointerup",i)}function i(e){A&&(A.removeClass("mbsc-active"),A=null),"mouseup"===e.type?ie(document).off("mouseup",i):"pointerup"===e.type&&ie(document).off("pointerup",i)}function o(e){O.activeInstance==te&&(13!=e.keyCode||ie(e.target).is(Pe)&&!e.shiftKey?27==e.keyCode&&te.cancel():te.select())}function c(e){e||ke||!te._activeElm||(ne=new Date,te._activeElm.focus())}function d(e){var t=_e,a=G.focusOnClose;te._markupRemove(),C.remove(),W&&(E.mbscModals--,G.scrollLock&&E.mbscLock--,E.mbscLock||w.removeClass("mbsc-fr-lock"),R&&(E.mbscIOSLock--,E.mbscIOSLock||(w.removeClass("mbsc-fr-lock-ios"),_.css({top:"",left:""}),S.scrollLeft(E.mbscScrollLeft),S.scrollTop(E.mbscScrollTop))),E.mbscModals||w.removeClass("mbsc-fr-lock-ctx"),E.mbscModals&&!B||e||(t||(t=ae),setTimeout(function(){void 0===a||a===!0?(xe=!0,t[0].focus()):a&&ie(a)[0].focus()},200))),B=void 0,H=!1,K("onHide")}function m(){clearTimeout(j),j=setTimeout(function(){te.position(!0)&&(U.style.visibility="hidden",U.offsetHeight,U.style.visibility="")},200)}function h(e){O.activeInstance==te&&e.target.nodeType&&!z.contains(e.target)&&new Date-ne>100&&(ne=new Date,te._activeElm.focus())}function b(e,t){function a(){C.off(fe,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+P).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+P),c(t)}if(W)C.appendTo(_);else if(ae.is("div")&&!te._hasContent)ae.empty().append(C);else if(ae.hasClass("mbsc-control")){var s=ae.closest(".mbsc-control-w");C.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else C.insertAfter(ae);H=!0,te._markupInserted(C),K("onMarkupInserted",{target:L}),C.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Ae).on("touchstart mousedown",function(e){G.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||ie(e.target).is(Ee)){if(9==e.keyCode&&W&&G.focusTrap){var t=C.find($e).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(ie(":focus",C)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",i),L.addEventListener("touchstart",function(){Z||(Z=!0,_.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),ie.each(Y,function(e,t){te.tap(ie(".mbsc-fr-btn"+e,C),function(e){t=l(t)?te.buttons[t]:t,(l(t.handler)?te.handlers[t.handler]:t.handler).call(this,e,te)},!0)}),te._attachEvents(C),te.position()!==!1&&((W||te._checkSize)&&(X=D(L,m,G.zone)),W&&(C.removeClass("mbsc-fr-pos"),P&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+P).on(fe,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+P):c(t)),K("onShow",{target:L,valueText:te._tempValue}))}function p(e,t){te._isVisible||(e&&e(),te.show()!==!1&&(_e=t))}function v(){te._fillValue(),K("onSet",{valueText:te._value})}function g(){K("onCancel",{valueText:te._value})}function y(){te.setVal(null,!0)}var _,x,w,C,T,M,k,S,V,Y,A,E,P,$,W,H,F,L,I,N,q,R,X,z,U,j,B,G,J,Z,K,Q,ee,te=this,ae=ie(e),se=[],ne=new Date;ue.call(this,e,t,!0),te.position=function(e){var t,a,s,n,i,o,l,c,d,u,m,f,h,b,p,v,g,y,x,w={},T=0,D=0,Y=0,A=0;if(!H)return!1;if(v=Q,p=ee,h=L.offsetHeight,b=L.offsetWidth,b&&h&&(Q!==b||ee!==h||!e)){if(te._checkResp(b))return!1;if(Q=b,ee=h,te._isFullScreen||/top|bottom/.test(G.display)?k.width(b):W&&V.width(""),te._position(C),!te._isFullScreen&&/center|bubble/.test(G.display)&&(ie(".mbsc-w-p",C).each(function(){g=this.getBoundingClientRect().width,A+=g,Y=g>Y?g:Y}),f=A>b-16||G.tabs===!0,V.css({width:te._isLiquid?Math.min(G.maxPopupWidth,b-16):Math.ceil(f?Y:A),"white-space":f?"":"nowrap"})),K("onPosition",{target:L,popup:U,hasTabs:f,oldWidth:v,oldHeight:p,windowWidth:b,windowHeight:h})!==!1&&W)return q&&(T=S.scrollLeft(),D=S.scrollTop(),Q&&M.css({width:"",height:""})),I=U.offsetWidth,N=U.offsetHeight,J=N<=h&&I<=b,"center"==G.display?(x=Math.max(0,T+(b-I)/2),y=Math.max(0,D+(h-N)/2)):"bubble"==G.display?(t=void 0===G.anchor?ae:ie(G.anchor),l=ie(".mbsc-fr-arr-i",C)[0],n=t.offset(),i=n.top+($?D-_.offset().top:0),o=n.left+($?T-_.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,c=l.offsetWidth,d=l.offsetHeight,x=r(o-(I-a)/2,T+3,T+b-I-3),y=i+s+d/2,y+N+8>D+h&&i-N-d/2>D?(k.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),y=i-N-d/2):k.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),ie(".mbsc-fr-arr",C).css({left:r(o+a/2-(x+(I-c)/2),0,c)}),J=y>D&&x>T&&y+N<=D+h&&x+I<=T+b):(x=T,y="top"==G.display?D:Math.max(0,D+h-N)),q&&(u=Math.max(y+N,$?E.scrollHeight:ie(document).height()),m=Math.max(x+I,$?E.scrollWidth:ie(document).width()),M.css({width:m,height:u}),G.scroll&&"bubble"==G.display&&(y+N+8>D+h||i>D+h||i+s<D)&&S.scrollTop(Math.min(i,y+N-h+8,u-h))),w.top=Math.floor(y),w.left=Math.floor(x),k.css(w),!0}},te.attachShow=function(e,t){var a,s=ie(e).off(".mbsc"),n=s.prop("readonly");"inline"!==G.display&&((G.showOnFocus||G.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){te._isVisible&&this.blur()}),a=ie('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select")||(G.showOnFocus&&s.on("focus.mbsc",function(){xe?xe=!1:p(t,s)}),G.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),p(t,s))}),te.tap(s,function(e){e.isMbscTap&&(Z=!0),p(t,s)}),a&&a.length&&te.tap(a,function(e){e.preventDefault(),e.target!==s[0]&&p(t,s)}))),se.push({readOnly:n,el:s,lbl:a}))},te.select=function(){W?te.hide(!1,"set",!1,v):v()},te.cancel=function(){W?te.hide(!1,"cancel",!1,g):g()},te.clear=function(){te._clearValue(),K("onClear"),W&&te._isVisible&&!te.live?te.hide(!1,"clear",!1,y):y()},te.enable=function(){G.disabled=!1,ie.each(se,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},te.disable=function(){G.disabled=!0,ie.each(se,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},te.show=function(e,t){var a,s,n,i;if(!G.disabled&&!te._isVisible){if(te._readValue(),K("onBeforeShow")===!1)return!1;if(_e=null,P=G.animate,Y=G.buttons||[],q=$||"bubble"==G.display,R=Me&&!q&&G.scrollLock,a=Y.length>0,P!==!1&&("top"==G.display?P=P||"slidedown":"bottom"==G.display?P=P||"slideup":"center"!=G.display&&"bubble"!=G.display||(P=P||"pop")),W&&(Q=0,ee=0,R&&!w.hasClass("mbsc-fr-lock-ios")&&(E.mbscScrollTop=i=Math.max(0,S.scrollTop()),E.mbscScrollLeft=n=Math.max(0,S.scrollLeft()),_.css({top:-i+"px",left:-n+"px"})),w.addClass((G.scrollLock?"mbsc-fr-lock":"")+(R?" mbsc-fr-lock-ios":"")+($?" mbsc-fr-lock-ctx":"")),ie(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=O.activeInstance,O.activeInstance=te,E.mbscModals=(E.mbscModals||0)+1,R&&(E.mbscIOSLock=(E.mbscIOSLock||0)+1),G.scrollLock&&(E.mbscLock=(E.mbscLock||0)+1)),s='<div lang="'+G.lang+'" class="mbsc-fr mbsc-'+G.theme+(G.baseTheme?" mbsc-"+G.baseTheme:"")+" mbsc-fr-"+G.display+" "+(G.cssClass||"")+" "+(G.compClass||"")+(te._isLiquid?" mbsc-fr-liq":"")+(W?" mbsc-fr-pos"+(G.showOverlay?"":" mbsc-fr-no-overlay"):"")+(F?" mbsc-fr-pointer":"")+(Ye?" mbsc-fr-hb":"")+(Z?"":" mbsc-no-touch")+(R?" mbsc-platform-ios":"")+(a?Y.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(W?'<div class="mbsc-fr-persp">'+(G.showOverlay?'<div class="mbsc-fr-overlay"></div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(G.rtl?" mbsc-rtl":" mbsc-ltr")+(G.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===G.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(W?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(G.headerText?'<div class="mbsc-fr-hdr">'+(l(G.headerText)?G.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=te._generateContent(),s+="</div>",a){var r,c,d,m=Y.length;for(s+='<div class="mbsc-fr-btn-cont">',c=0;c<Y.length;c++)d=G.btnReverse?m-c-1:c,r=Y[d],r=l(r)?te.buttons[r]:r,"set"===r.handler&&(r.parentClass="mbsc-fr-btn-s"),"cancel"===r.handler&&(r.parentClass="mbsc-fr-btn-c"),s+="<div"+(G.btnWidth?' style="width:'+100/Y.length+'%"':"")+' class="mbsc-fr-btn-w '+(r.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+d+" mbsc-fr-btn-e "+(void 0===r.cssClass?G.btnClass:r.cssClass)+(r.icon?" mbsc-ic mbsc-ic-"+r.icon:"")+'">'+(r.text||"")+"</div></div>";s+="</div>"}if(s+="</div></div></div></div>"+(W?"</div></div>":""),C=ie(s),M=ie(".mbsc-fr-persp",C),T=ie(".mbsc-fr-scroll",C),V=ie(".mbsc-fr-w",C),k=ie(".mbsc-fr-popup",C),x=ie(".mbsc-fr-hdr",C),L=C[0],z=T[0],U=k[0],te._activeElm=ie(".mbsc-fr-focus",C)[0],te._markup=C,te._isVisible=!0,te.markup=L,te._markupReady(C),K("onMarkupReady",{target:L}),W&&(ie(window).on("keydown",o),G.scrollLock&&C.on("touchmove mousewheel wheel",function(e){J&&e.preventDefault()}),G.focusTrap&&S.on("focusin",h),G.closeOnOverlayTap)){var p,v,g,y;T.on("touchstart mousedown",function(e){v||e.target!=z||(v=!0,p=!1,g=f(e,"X"),y=f(e,"Y"))}).on("touchmove mousemove",function(e){v&&!p&&(Math.abs(f(e,"X")-g)>9||Math.abs(f(e,"Y")-y)>9)&&(p=!0)}).on("touchcancel",function(){v=!1}).on("touchend click",function(e){v&&!p&&(te.cancel(),"touchend"==e.type&&u()),v=!1})}W&&R?setTimeout(function(){b(e,t)},100):b(e,t)}},te.hide=function(e,t,a,s){function n(){C.off(fe,n),d(e)}return!(!te._isVisible||!a&&!te._isValid&&"set"==t||!a&&K("onBeforeClose",{valueText:te._tempValue,button:t})===!1)&&(te._isVisible=!1,X&&(X.detach(),X=null),W&&(ie(document.activeElement).is("input,textarea")&&U.contains(document.activeElement)&&document.activeElement.blur(),O.activeInstance==te&&(O.activeInstance=B),ie(window).off("keydown",o),S.off("focusin",h)),C&&(W&&P&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+P).on(fe,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+P):d(e),te._detachEvents(C)),s&&s(),ae.trigger("blur"),void K("onClose",{valueText:te._value}))},te.isVisible=function(){return te._isVisible},te.setVal=s,te.getVal=s,te._generateContent=s,te._attachEvents=s,te._detachEvents=s,te._readValue=s,te._clearValue=s,te._fillValue=s,te._markupReady=s,te._markupInserted=s,te._markupRemove=s,te._position=s,te.__processSettings=s,te.__init=s,te.__destroy=s,te._destroy=function(){te.hide(!0,!1,!0),ae.off(".mbsc"),ie.each(se,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),te.__destroy()},te._updateHeader=function(){var t=G.headerText,a=t?"function"==typeof t?t.call(e,te._tempValue):t.replace(/\{value\}/i,te._tempValue):"";x.html(a||"&nbsp;")},te._processSettings=function(e){var a,s;for(te.__processSettings(e),F=!G.touchUi,F&&(G.display=e.display||t.display||"bubble",G.buttons=e.buttons||t.buttons||[],G.showOverlay=e.showOverlay||t.showOverlay||!1),G.buttons=G.buttons||("inline"!==G.display?["cancel","set"]:[]),G.headerText=void 0===G.headerText?"inline"!==G.display&&"{value}":G.headerText,Y=G.buttons||[],W="inline"!==G.display,$="body"!=G.context,_=ie(G.context),w=$?_:ie("body,html"),E=_[0],te._$window=S=ie($?G.context:window),te.live=!0,s=0;s<Y.length;s++)a=Y[s],"ok"!=a&&"set"!=a&&"set"!=a.handler||(te.live=!1);te.buttons.set={text:G.setText,icon:G.setIcon,handler:"set"},te.buttons.cancel={text:G.cancelText,icon:G.cancelIcon,handler:"cancel"},te.buttons.close={text:G.closeText,icon:G.closeIcon,handler:"cancel"},te.buttons.clear={text:G.clearText,icon:G.clearIcon,handler:"clear"},te._isInput=ae.is("input")},te._init=function(e){var t=te._isVisible,a=t&&!C.hasClass("mbsc-fr-pos");t&&te.hide(!0,!1,!0),ae.off(".mbsc"),te.__init(e),te._isLiquid="liquid"==G.layout,W?(te._readValue(),te._hasContent||G.skipShow||te.attachShow(ae),t&&te.show(a)):te.show(),ae.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){te._preventChange||te.setVal(ae.val(),!0,!1),te._preventChange=!1})},te.buttons={},te.handlers={set:te.select,cancel:te.cancel,clear:te.clear},te._value=null,te._isValid=!0,te._isVisible=!1,G=te.settings,K=te.trigger,a||te.init()};We.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:ke||Se,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!Ve},re.Frame=We,De.frame.mobiscroll={headerText:!1,btnWidth:!1},De.scroller.mobiscroll=de({},De.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),J&&ie(window).on("focus",function(){_e&&(xe=!0)});/* eslint-disable no-unused-vars */
var He="ios"==z,Fe=function(e,t,a){function s(e){fe("onStart",{domEvent:e}),xe.stopProp&&e.stopPropagation(),xe.prevDef&&e.preventDefault(),xe.readonly||xe.lock&&N||x(e,this)&&!I&&(y&&y.removeClass("mbsc-active"),W=!1,N||(y=ie(e.target).closest(".mbsc-btn-e",this),y.length&&!y.hasClass("mbsc-disabled")&&(W=!0,T=setTimeout(function(){y.addClass("mbsc-active")},100))),I=!0,G=!1,q=!1,ve.scrolled=N,oe=f(e,"X"),le=f(e,"Y"),E=oe,M=0,k=0,S=0,ne=new Date,se=+w(ce,he)||0,N&&g(se,He?0:1),"mousedown"===e.type&&ie(document).on("mousemove",n).on("mouseup",c))}function n(e){I&&(xe.stopProp&&e.stopPropagation(),E=f(e,"X"),P=f(e,"Y"),M=E-oe,k=P-le,S=he?k:M,W&&(Math.abs(k)>xe.thresholdY||Math.abs(M)>xe.thresholdX)&&(clearTimeout(T),y.removeClass("mbsc-active"),W=!1),(ve.scrolled||!q&&Math.abs(S)>me)&&(G||fe("onGestureStart",$),ve.scrolled=G=!0,X||(X=!0,R=ee(i))),he||xe.scrollLock?e.preventDefault():ve.scrolled?e.preventDefault():Math.abs(k)>7&&(q=!0,ve.scrolled=!0,c()))}function i(){L&&(S=r(S,-Q*L,Q*L)),g(r(se+S,O-A,F+A)),X=!1}function c(e){if(I){var t,a=new Date-ne;xe.stopProp&&e&&e.stopPropagation(),te(R),X=!1,!q&&ve.scrolled&&(xe.momentum&&a<300&&(t=S/a,S=Math.max(Math.abs(S),t*t/xe.speedUnit)*(S<0?-1:1)),v(S)),W&&(clearTimeout(T),y.addClass("mbsc-active"),setTimeout(function(){y.removeClass("mbsc-active")},100),q||ve.scrolled||fe("onBtnTap",{target:y[0],domEvent:e})),e&&"mouseup"==e.type&&ie(document).off("mousemove",n).off("mouseup",c),I=!1}}function d(e){if(e=e.originalEvent||e,S=he?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,fe("onStart",{domEvent:e}),xe.stopProp&&e.stopPropagation(),S){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(S*=15),S=r(-S,-Z,Z),se=pe,xe.readonly)return;if(G||p(),se+S<O&&(se=O,S=0),se+S>F&&(se=F,S=0),X||(X=!0,R=ee(i)),!S&&G)return;G=!0,clearTimeout(J),J=setTimeout(function(){te(R),X=!1,G=!1,v(S)},200)}}function u(e){fe("onStart",{domEvent:e}),xe.readonly||(e.stopPropagation(),se=pe,G=!1,e.target==z?(le=f(e,"Y",!0),ie(document).on("mousemove",m).on("mouseup",h)):(le=_.offset().top,m(e),h()))}function m(e){var t=(f(e,"Y",!0)-le)/D;H?(S=-(L*Q*2+D)*t,S=r(S,-Q*L,Q*L)):S=(O-F-D)*t,G||p(),G=!0,g(r(se+S,O-A,F+A))}function h(){se=pe,v(0),ie(document).off("mousemove",m).off("mouseup",h)}function b(e){e.stopPropagation()}function p(){$={posX:he?0:pe,posY:he?pe:0,originX:he?0:se,originY:he?se:0,direction:S>0?he?270:360:he?90:180},fe("onGestureStart",$)}function v(e){var t,a,s;if(L&&(e=r(e,-Q*L,Q*L)),s=r(Math.round((se+e)/Q)*Q,O,F),ae){if(e<0){for(t=ae.length-1;t>=0;t--)if(Math.abs(s)+D>=ae[t].breakpoint){ye=t,_e=2,s=ae[t].snap2;break}}else if(e>=0)for(t=0;t<ae.length;t++)if(Math.abs(s)<=ae[t].breakpoint){ye=t,_e=1,s=ae[t].snap1;break}s=r(s,O,F)}a=xe.time||(pe<O||pe>F?1e3:Math.max(1e3,Math.abs(s-pe)*xe.timeUnit)),$.destinationX=he?0:s,$.destinationY=he?s:0,$.duration=a,$.transitionTiming=Y,fe("onGestureEnd",$),ve.scroll(s,a)}function g(e,t,a,s){var n,i=e!=pe,o=t>1,l=t?be+"transform "+Math.round(t)+"ms "+Y:"",r=function(){clearInterval(K),clearTimeout(de),N=!1,pe=e,$.posX=he?0:e,$.posY=he?e:0,i&&fe("onMove",$),o&&fe("onAnimationEnd",$),s&&s()};$={posX:he?0:pe,posY:he?pe:0,originX:he?0:se,originY:he?se:0,direction:e-pe>0?he?270:360:he?90:180},pe=e,o&&($.destinationX=he?0:e,$.destinationY=he?e:0,$.duration=t,$.transitionTiming=Y,fe("onAnimationStart",$)),re[ge+"Transition"]=l,re[ge+"Transform"]="translate3d("+(he?"0,"+e+"px,":e+"px,0,")+"0)",z&&U&&(n=H?(j-e)/(L*Q*2):(e-F)/(O-F),z.style[ge+"Transition"]=l,z.style[ge+"Transform"]="translate3d(0,"+Math.max(0,Math.min((D-U)*n,D-U))+"px,0)"),!i&&!N||!t||t<=1?r():t&&(N=!a,clearInterval(K),K=setInterval(function(){var t=+w(ce,he)||0;$.posX=he?0:t,$.posY=he?t:0,fe("onMove",$),Math.abs(t-e)<2&&r()},100),clearTimeout(de),de=setTimeout(function(){r()},t)),xe.sync&&xe.sync(e,t,Y)}var y,_,C,T,D,M,k,S,V,Y,A,E,P,$,W,H,F,L,O,I,N,q,R,X,z,U,j,B,G,J,Z,K,Q,ae,se,ne,oe,le,re,ce,de,me,fe,he,pe,ve=this,ye=0,_e=1,xe=t,we=ie(e);ue.call(this,e,t,!0),ve.scrolled=!1,ve.scroll=function(t,a,s,n){t=o(t)?Math.round(t/Q)*Q:Math.ceil((ie(t,e).length?Math.round(ce.offset()[V]-ie(t,e).offset()[V]):pe)/Q)*Q,t=r(t,O,F),ye=Math.round(t/Q),se=pe,j=L*Q+t,g(t,a,s,n)},ve.refresh=function(e){var t;for(D=(void 0===xe.contSize?he?we.height():we.width():xe.contSize)||0,F=(void 0===xe.maxScroll?0:xe.maxScroll)||0,O=Math.min(F,void 0===xe.minScroll?Math.min(0,he?D-ce.height():D-ce.width()):xe.minScroll)||0,ae=null,!he&&xe.rtl&&(t=F,F=-O,O=-t),l(xe.snap)&&(ae=[],ce.find(xe.snap).each(function(){var e=he?this.offsetTop:this.offsetLeft,t=he?this.offsetHeight:this.offsetWidth;ae.push({breakpoint:e+t/2,snap1:-e,snap2:D-e-t})})),Q=o(xe.snap)?xe.snap:1,L=xe.snap?xe.maxSnapScroll:0,Y=xe.easing,A=xe.elastic?o(xe.snap)?Q:o(xe.elastic)?xe.elastic:0:0,Z=Q;Z>44;)Z/=2;Z=Math.round(44/Z)*Z,z&&(H=O==-(1/0)||F==1/0,U=O<F?Math.max(20,D*D/(F-O+D)):0,z.style.height=U+"px",B.style.height=U?"":0),void 0===pe&&(pe=xe.initialPos,ye=Math.round(pe/Q)),e||ve.scroll(xe.snap?ae?ae[ye]["snap"+_e]:ye*Q:pe)},ve._processSettings=function(){he="Y"==xe.axis,V=he?"top":"left",ce=xe.moveElement||we.children().eq(0),re=ce[0].style,me=he?xe.thresholdY:xe.thresholdX,xe.scrollbar&&(C=xe.scrollbar,_=C.find(".mbsc-sc-bar"),z=_[0],B=C[0])},ve._init=function(){ve.refresh(),we.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",c),xe.mousewheel&&we.on("wheel mousewheel",d),z&&C.on("mousedown",u).on("click",b),e.addEventListener("click",function(e){ve.scrolled&&(ve.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},ve._destroy=function(){clearInterval(K),we.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",c).off("wheel mousewheel",d),z&&C.off("mousedown",u).off("click",b)},xe=ve.settings,fe=ve.trigger,a||ve.init()};Fe.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var Le={},Oe=J?window.CSS:null,Ie=Oe&&Oe.supports&&Oe.supports("(transform-style: preserve-3d)"),Ne=function(e,t,a){function s(e){var t,a,s=+ie(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,l(s,ie(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&P.start(s,a,e))}function i(){P.stop()}function l(e,t){var a=q[e],s=+t.attr("data-index"),i=b(a,s),l=U._tempSelected[e],r=o(a.multiple)?a.multiple:1/0;I("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[i]&&(void 0!==l[i]?(t.removeClass(A).removeAttr("aria-selected"),delete l[i]):(1==r&&(U._tempSelected[e]=l={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected")),n(l).length<r&&(t.addClass(A).attr("aria-selected","true"),l[i]=i))),C(a,e,s,z,a._index<s?1:2,!0,a.multiple),U.live&&(!a.multiple||1===a.multiple&&O.tapSelect)&&(O.setOnTap===!0||O.setOnTap[e])&&setTimeout(function(){U.select()},O.tapSelect?0:200))}function r(e,t){var a=q[e];return a&&(!a.multiple||1!==a.multiple&&t&&(O.setOnTap===!0||O.setOnTap[e]))}function c(e){return-(e.max-e._offset-(e.multiple&&!Y?Math.floor(O.rows/2):0))*W}function d(e){return-(e.min-e._offset+(e.multiple&&!Y?Math.floor(O.rows/2):0))*W}function u(e,t){return(e._array?e._map[t]:+e.getIndex(t,U))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?ie(a).get(t%e._length):a[t]:ie.isFunction(a)?a(t,U):""}function f(e){return ie.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=ie.isPlainObject(e)?e.display:e;return void 0===t?"":t}function b(e,t){return f(m(e,t))}function p(e,t,a){var s=q[e];C(s,e,s._index+t,O.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function v(e){return ie.isArray(O.readonly)?O.readonly[e]:O.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=ie.isArray(e.data),e._array&&(e._length=e.data.length,ie.each(e.data,function(t,a){e._map[f(a)]=t})),e.circular=void 0===O.circular?void 0===e.circular?e._array&&e._length>O.rows:e.circular:ie.isArray(O.circular)?O.circular[t]:O.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,$[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-X,e._last=e._index+X,e._offset=e._first,a?(e._offset-=e._margin/W+(e._index-s),e._margin+=(e._index-s)*W):e._margin=0,e._refresh=function(t){de(e._scroller.settings,{minScroll:c(e),maxScroll:d(e)}),e._scroller.refresh(t)},R[e.key]=e,e}function y(e,t,a,s,n){var i,o,l,r,c,d,u,b,p="",v=U._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)l=m(e,i),c=h(l),r=f(l),o=l&&void 0!==l.cssClass?l.cssClass:"",d=l&&void 0!==l.label?l.label:"",u=l&&l.invalid,b=void 0!==r&&r==$[t]&&!e.multiple,p+='<div role="option" tabindex="-1" aria-selected="'+!!v[r]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+o+" "+(b?"mbsc-sc-itm-sel ":"")+(v[r]?A:"")+(void 0===r?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[r]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+M(r)+'"'+(d?' aria-label="'+d+'"':"")+(b?' aria-selected="true"':"")+' style="height:'+W+"px;line-height:"+W+"px;"+(n?be+"transform:rotateX("+(e._offset-i)*V%360+"deg) translateZ("+W*O.rows/2+"px);":"")+'">'+(N>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(W/N)+"px;font-size:"+Math.round(W/N*.8)+'px;">':"")+c+(N>1?"</div>":"")+"</div>";return p}function _(e,t,a){var s=Math.round(-a/W)+e._offset,n=s-e._current,i=e._first,o=e._last,l=i+X-S+1,r=o-X+S;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(y(e,t,Math.max(o+1,i+n),o+n)),ie(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,o-i+1)).remove(),Y&&(e._$3d.append(y(e,t,Math.max(r+1,l+n),r+n,!0)),ie(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,r-l+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,o+n))),ie(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-o-1)).remove(),Y&&(e._$3d.prepend(y(e,t,l+n,Math.min(l-1,r+n),!0)),ie(".mbsc-sc-itm",e._$3d).slice(Math.max(n,l-r-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*W,e._$scroller.css("margin-top",e._margin+"px"))}function x(e,t,a,s){var n,i=q[e],o=s||i._disabled,l=u(i,t),r=b(i,l),c=r,d=r,m=0,f=0;if(o[r]===!0){for(n=0;l-m>=i.min&&o[c]&&n<100;)n++,m++,c=b(i,l-m);for(n=0;l+f<i.max&&o[d]&&n<100;)n++,f++,d=b(i,l+f);r=(f<m&&f&&2!==a||!m||l-m<0||1==a)&&!o[d]?d:c}return r}function w(t,a,s,n,i,o,l){var c,d,m,f,h=U._isVisible;L=!0,f=O.validate.call(e,{values:$.slice(0),index:a,direction:s},U)||{},L=!1,f.valid&&(U._tempWheelArray=$=f.valid.slice(0)),o||ie.each(q,function(e,n){if(h&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},f.disabled&&f.disabled[e]&&ie.each(f.disabled[e],function(e,t){n._disabled[t]=!0,h&&n._$markup.find('.mbsc-sc-itm[data-val="'+M(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),$[e]=n.multiple?$[e]:x(e,$[e],s),h){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected"),d=u(n,$[e]),c=d-n._index+n._batch,Math.abs(c)>2*X+1&&(m=c+(2*X+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*W,n._refresh()),n._index=d+n._batch,n.multiple){if(void 0===a)for(var o in U._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+M(o)+'"]').addClass(A).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+M($[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(Y&&n.multiple?1:0).attr("tabindex",0),l&&a===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(d-n._offset+n._batch)*W,a===e||void 0===a?t:z,i)}}),I("onValidated",{index:a,time:t}),U._tempValue=O.formatValue.call(e,$,U),h&&U._updateHeader(),U.live&&r(a,o)&&(U._hasValue=n||U._hasValue,D(n,n,0,!0),n&&I("onSet",{valueText:U._value})),n&&I("onChange",{index:a,valueText:U._tempValue})}function C(e,t,a,s,n,i,o,l){var r=b(e,a);void 0!==r&&($[t]=r,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){w(s,t,n,!0,i,o,l)},10))}function D(t,a,s,n,i){if(n?U._tempValue=O.formatValue.call(e,U._tempWheelArray,U):w(s),!i){U._wheelArray=[];for(var o=0;o<$.length;o++)U._wheelArray[o]=q[o]&&q[o].multiple?Object.keys(U._tempSelected[o]||{})[0]:$[o];U._value=U._hasValue?U._tempValue:null,U._selected=de(!0,{},U._tempSelected)}t&&(U._isInput&&j.val(U._hasValue?U._tempValue:""),I("onFill",{valueText:U._hasValue?U._tempValue:"",change:a}),a&&(U._preventChange=!0,j.trigger("change")))}var k,S,V,Y,A,E,P,$,W,H,F,L,O,I,N,q,R,X=40,z=1e3,U=this,j=ie(e);We.call(this,e,t,!0),U.setVal=U._setVal=function(t,a,s,n,i){U._hasValue=null!==t&&void 0!==t,U._tempWheelArray=$=ie.isArray(t)?t.slice(0):O.parseValue.call(e,t,U)||[],D(a,void 0===s?a:s,i,!1,n)},U.getVal=U._getVal=function(e){var t=U._hasValue||e?U[e?"_tempValue":"_value"]:null;return o(t)?+t:t},U.setArrayVal=U.setVal,U.getArrayVal=function(e){return e?U._tempWheelArray:U._wheelArray},U.changeWheel=function(e,t,a){var s,n;ie.each(e,function(e,t){n=R[e],n&&(s=n._nr,de(n,t),g(n,s,!0),U._isVisible&&(Y&&n._$3d.html(y(n,s,n._first+X-S+1,n._last-X+S,!0)),n._$scroller.html(y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(L)))}),!U._isVisible||U._isLiquid||L||U.position(),L||w(t,void 0,void 0,a)},U.getValidValue=x,U._generateContent=function(){var e,t=0,a="",s=Y?be+"transform: translateZ("+(W*O.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+W+"px;margin-top:-"+(W/2+(O.selectedLineBorder||0))+'px;"></div>',i=0;return ie.each(O.wheels,function(o,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(Y?" mbsc-sc-whl-gr-3d-c":"")+(O.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(Y?" mbsc-sc-whl-gr-3d":"")+(E?" mbsc-sc-cp":"")+(O.width||O.maxWidth?'"':'" style="max-width:'+O.maxPopupWidth+'px;"')+">",ie.each(l,function(o,l){U._tempSelected[i]=de({},U._selected[i]),q[i]=g(l,i),t+=O.maxWidth?O.maxWidth[i]||O.maxWidth:O.width?O.width[i]||O.width:0,e=void 0!==l.label?l.label:o,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(O.width?"width:"+(O.width[i]||O.width)+"px;":(O.minWidth?"min-width:"+(O.minWidth[i]||O.minWidth)+"px;":"")+(O.maxWidth?"max-width:"+(O.maxWidth[i]||O.maxWidth)+"px;":""))+'">'+(F?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+O.rows*W*(Y?1.1:1)+'px;">'+(E?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(O.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(O.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+H+"px;margin-top:-"+(H/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(H-W)/2+'px;">',a+=y(l,i,l._first,l._last)+"</div></div>",Y&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+W+"px;margin-top:-"+W/2+'px;">',a+=y(l,i,l._first+X-S+1,l._last-X+S,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(O.maxPopupWidth=t),a},U._attachEvents=function(e){P=T(ie(".mbsc-sc-btn",e),p,O.delay,v,!0),ie(".mbsc-sc-whl",e).on("keydown",s).on("keyup",i)},U._detachEvents=function(){P.stop();for(var e=0;e<q.length;e++)q[e]._scroller.destroy()},U._markupReady=function(e){k=e,ie(".mbsc-sc-whl-w",k).each(function(e){var t,a=ie(this),s=q[e];s._$markup=a,s._$scroller=ie(".mbsc-sc-whl-sc",this),s._$3d=ie(".mbsc-sc-whl-3d",this),s._scroller=new Fe(this,{mousewheel:O.mousewheel,moveElement:s._$scroller,scrollbar:ie(".mbsc-sc-bar-c",this),initialPos:(s._first-s._index)*W,contSize:O.rows*W,snap:W,minScroll:c(s),maxScroll:d(s),maxSnapScroll:X,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){var n=t?be+"transform "+Math.round(t)+"ms "+a:"";Y&&(s._$3d[0].style[ge+"Transition"]=n,s._$3d[0].style[ge+"Transform"]="rotateX("+-e/W*V+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),I("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,o=a.destinationY;t=Math.round(-o/W)+s._offset,C(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),I("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(s,e,t.posY)},onBtnTap:function(t){l(e,ie(t.target))}})}),w()},U._fillValue=function(){U._hasValue=!0,D(!0,!0,0,!0)},U._clearValue=function(){ie(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(A).removeAttr("aria-selected")},U._readValue=function(){var t=j.val()||"",a=0;""!==t&&(U._hasValue=!0),U._tempWheelArray=$=U._hasValue&&U._wheelArray?U._wheelArray.slice(0):O.parseValue.call(e,t,U)||[],U._tempSelected=de(!0,{},U._selected),ie.each(O.wheels,function(e,t){ie.each(t,function(e,t){q[a]=g(t,a),a++})}),D(!1,!1,0,!0),I("onRead")},U.__processSettings=function(e){O=U.settings,I=U.trigger,N=O.multiline,A="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+O.checkIcon,F=!O.touchUi,F&&(O.tapSelect=!0,O.circular=!1,O.rows=e.rows||t.rows||7)},U.__init=function(e){e&&(U._wheelArray=null),q=[],R={},E=O.showScrollArrows,Y=O.scroll3d&&Ie&&!E&&!F&&("ios"==O.theme||"ios"==O.baseTheme),W=O.height,H=Y?2*Math.round((W-.03*(W*O.rows/2+3))/2):W,S=Math.round(1.8*O.rows),V=360/(2*S),E&&(O.rows=Math.max(3,O.rows))},U._getItemValue=f,U._tempSelected={},U._selected={},a||U.init()};Ne.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:Le,_defaults:de({},We.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],o=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),ie.each(t.settings.wheels,function(e,l){ie.each(l,function(e,l){s=l.data,a=t._getItemValue(s[0]),ie.each(s,function(e,s){if(n[o]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),o++})}),i}})},re.Scroller=Ne;var qe={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};Le.select=function(e,t){function a(e){var t,a,s,n,i,o,l=0,r=0,c={};if(j={},Y={},$=[],S=[],ce.length=0,ae)ie.each(T,function(l,d){i=d[X.dataText]+"",a=d[X.dataHtml],o=d[X.dataValue],s=d[X.dataGroup],n={value:o,html:a,text:i,index:l,cssClass:le?"mbsc-sel-gr-itm":""},j[o]=n,e&&!v(i,e)||($.push(n),se&&(void 0===c[s]?(t={text:s,value:r,options:[],index:r},Y[r]=t,c[s]=r,S.push(t),r++):t=Y[c[s]],oe&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[X.dataDisabled]&&ce.push(o))});else if(se){var d=!0;ie("optgroup",q).each(function(t){Y[t]={text:this.label,value:t,options:[],index:t},d=!0,ie("option",this).each(function(a){n={value:this.value,text:this.text,index:oe?a:l++,group:t,cssClass:le?"mbsc-sel-gr-itm":""},j[this.value]=n,e&&!v(this.text,e)||(d&&(S.push(Y[t]),d=!1),$.push(n),Y[t].options.push(n),this.disabled&&ce.push(this.value))})})}else ie("option",q).each(function(t){n={value:this.value,text:this.text,index:t},j[this.value]=n,e&&!v(this.text,e)||($.push(n),this.disabled&&ce.push(this.value))});L=X.defaultValue?X.defaultValue:$.length?$[0].value:"",le&&($=[],l=0,ie.each(Y,function(e,t){t.options.length&&(o="__group"+e,n={text:t.text,value:o,group:e,index:l++,cssClass:"mbsc-sel-gr"},j[o]=n,$.push(n),ce.push(n.value),ie.each(t.options,function(e,t){t.index=l++,$.push(t)}))})),z&&($.length?z.removeClass("mbsc-sel-empty-v"):z.addClass("mbsc-sel-empty-v"))}function r(e,t,a,s,n){var i,o=[];for(i=0;i<e.length;i++)o.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!s?1:s,cssClass:(t&&!s?"mbsc-sel-one":"")+" "+n,data:o,label:a}}function c(){return r(S,Z,X.groupLabel,!1,"mbsc-sel-gr-whl")}function d(){return r(oe&&Y[k]?Y[k].options:$,Z,ee,J,"")}function u(){var e=[[]];return ne&&(V=c(),G?e[0][A]=V:e[A]=[V]),W=d(),G?e[0][H]=W:e[H]=[W],e}function m(e){J&&(e&&l(e)&&(e=e.split(",")),ie.isArray(e)&&(e=e[0])),P=void 0===e||null===e||""===e?L:e,!j[P]&&$&&$.length&&(P=$[0].value),ne&&(k=j[P]?j[P].group:null)}function f(e){return O[e]||(j[e]?j[e].text:"")}function h(e,t,a){var s,n,i=[],o=a?t._selected:t._tempSelected;if(Z){for(s in o[H])i.push(f(s));return i.join(", ")}return n=e[H],f(n)}function b(){var t,a="",s=e.getVal(),n=X.formatValue.call(N,e.getArrayVal(),e,!0);if(X.filter&&"inline"==X.display||C.val(n),q.is("select")&&ae){if(J)for(t=0;t<s.length;t++)a+='<option value="'+s[t]+'">'+f(s[t])+"</option>";else a='<option value="'+(null===s?"":s)+'">'+n+"</option>";q.html(a)}N!==C[0]&&q.val(s)}function p(){var t={};t[H]=d(),F=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function y(e){return X.data.dataField?e[X.data.dataField]:X.data.processResponse?X.data.processResponse(e):e}function _(t){var s={};a(t),m(P),X.wheels=u(),s[H]=W,e._tempWheelArray[H]=P,ne&&(s[A]=V,e._tempWheelArray[A]=k),e.changeWheel(s,0,!0),b()}function x(t){return e.trigger("onFilter",{filterText:t})}function w(t){t[A]!=k&&(k=t[A],P=Y[k].options[0].value,t[H]=P,oe?p():e.setArrayVal(t,!1,!1,!0,I))}var C,T,D,M,k,S,V,Y,A,E,P,$,W,H,F,L="",O={},I=1e3,N=this,q=ie(N),R=de({},e.settings),X=de(e.settings,qe,R),z=ie('<div class="mbsc-sel-empty">'+X.filterEmptyText+"</div>"),U=X.readonly,j={},B=X.layout||(/top|bottom|inline/.test(X.display)||X.filter?"liquid":""),G="liquid"==B||!X.touchUi,J=o(X.select)?X.select:"multiple"==X.select||q.prop("multiple"),Z=J||!(!X.filter&&!X.tapSelect)&&1,K=this.id+"_dummy",Q=ie('label[for="'+this.id+'"]').attr("for",K),ee=void 0!==X.label?X.label:Q.length?Q.text():q.attr("name"),te=X.group,ae=!!X.data,se=ae?!!X.group:ie("optgroup",q).length,ne=se&&te&&te.groupWheel!==!1,oe=se&&te&&ne&&te.clustered===!0,le=se&&(!te||te.header!==!1&&!oe),re=q.val()||(J?[]:[""]),ce=[];return e.setVal=function(t,a,s,n,o){if(Z&&(null===t||void 0===t||J||(t=[t]),t&&l(t)&&(t=t.split(",")),e._tempSelected[H]=i(t),n||(e._selected[H]=i(t)),t=t?t[0]:null,ne)){var r=j[t],c=r&&r.group;e._tempSelected[A]=i([c]),n||(e._selected[A]=i([c]))}e._setVal(t,a,s,n,o)},e.getVal=function(t,a){var s;return Z?(s=n(t?e._tempSelected[H]:e._selected[H]),s=J?s:s.length?s[0]:null):(s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,s=s?s[H]:null),J?s:void 0!==s?se&&a?[j[s]?j[s].group:null,s]:s:null},e.refresh=function(e,t,a){a=a||s,e?(T=e,E||(X.data=e)):ie.isArray(X.data)&&(T=X.data),!e&&E&&void 0===t?g(X.data.url,function(e){T=y(e),_(),a()},X.data.dataType):(_(t),a())},t.invalid||(X.invalid=ce),ne?(A=0,H=1):(A=-1,H=0),Z&&(J&&q.prop("multiple",!0),re&&l(re)&&(re=re.split(",")),e._selected[H]=i(re)),e._$input&&e._$input.remove(),q.next().is(".mbsc-select-input")?C=q.next().removeAttr("tabindex"):X.input?C=ie(X.input):(X.filter&&"inline"==X.display?e._$input=ie('<div class="mbsc-sel-input-wrap"><input type="text" id="'+K+'" class="mbsc-select-input mbsc-control '+X.inputClass+'" readonly /></div>'):(C=ie('<input type="text" id="'+K+'" class="mbsc-select-input mbsc-control '+X.inputClass+'" readonly />'),e._$input=C),X.showInput&&(e._$input.insertAfter(q),C||(C=e._$input.find("#"+K)))),e.attachShow(C.attr("placeholder",X.placeholder||"")),C[0]!==N&&q.addClass("mbsc-sel-hdn").attr("tabindex",-1).attr("data-enhance",!1),!Z||X.rows%2||(X.rows=X.rows-1),X.filter&&(D=X.filter.minLength||0),E=X.data&&X.data.url,E?e.refresh():(ae&&(T=X.data),a(),m(q.val())),{layout:B,headerText:!1,anchor:C,compClass:"mbsc-sc mbsc-sel"+(Z?" mbsc-sel-multi":""),setOnTap:!ne||[!1,!0],formatValue:h,tapSelect:Z,parseValue:function(e){return m(void 0===e?q.val():e),ne?[k,P]:[P]},validate:function(e){var t=e.index,a=[];return a[H]=X.invalid,oe&&!F&&void 0===t&&p(),F=!1,{disabled:a}},onRead:b,onFill:b,onMarkupReady:function(e,t){if(X.filter){var a,s,n,i=ie(".mbsc-fr-w",e.target),o=ie('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+X.filterClearIcon+'"></span>');"inline"==X.display?(a=C,C.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w mbsc-'+X.theme+(X.baseTheme?" mbsc-"+X.baseTheme:"")+'"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),M=null,n=a[0],a.prop("readonly",!1).attr("placeholder",X.filterPlaceholderText).parent().append(o),i.find(".mbsc-fr-c").prepend(z),t._activeElm=n,t.tap(o,function(){M=null,n.value="",t.refresh(),o.removeClass("mbsc-sel-filter-show-clear"),x("")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("input",function(){clearTimeout(s),n.value.length?o.addClass("mbsc-sel-filter-show-clear"):o.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){M!==n.value&&x(n.value)!==!1&&(M=n.value,(M.length>=D||!M.length)&&(E&&X.data.remoteFilter?g(X.data.url+encodeURIComponent(M),function(e){t.refresh(y(e))},X.data.dataType):t.refresh(void 0,M)))},500)})}},onBeforeShow:function(){J&&X.counter&&(X.headerText=function(){var t=0;return ie.each(e._tempSelected[H],function(){t++}),(t>1?X.selectedPluralText||X.selectedText:X.selectedText).replace(/{count}/,t)}),m(q.val()),Z&&ne&&(e._selected[A]=i([k])),X.filter&&a(void 0),e.settings.wheels=u(),F=!0},onWheelGestureStart:function(e){e.index==A&&(X.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==A?(X.readonly=U,Z||w(a)):t.index==H&&a[H]!=P&&(P=a[H],ne&&j[P]&&j[P].group!=k&&(k=j[P].group,a[A]=k,e._tempSelected[A]=i([k]),e.setArrayVal(a,!1,!1,!0,I)))},onItemTap:function(t){var a;if(t.index==H&&(O[t.value]=j[t.value].text,Z&&!J&&t.selected))return!1;if(t.index==A&&Z){if(t.selected)return!1;a=e.getArrayVal(!0),a[A]=t.value,w(a)}},onClose:function(){E&&X.data.remoteFilter&&M&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),q.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},a("select",Ne);var Re=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Xe=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ze=/^\d{1,2}(\/\d{1,2})?$/,Ue=/^w\d$/i,je={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:k,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};I.datetime={formatDate:S,parseDate:V};var Be={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Ge=function(e){function t(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.end&&!Xe.test(a.start))for(s=new Date(H(a.start,J,j)),n=new Date(H(a.end,J,j));s<=n;)i.push(k(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function a(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function s(e,t,a){return Math.floor((a-t)/e)*e+t}function n(e){return j.getYear(e)}function i(e){return j.getMonth(e)}function o(e){return j.getDay(e)}function l(e){var t=e.getHours();return t=re&&t>=12?t-12:t,a(t,me,pe,ye)}function r(e){return a(e.getMinutes(),fe,ve,_e)}function d(e){return a(e.getSeconds(),he,ge,xe)}function u(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+c(e.getMonth()+1)+"-"+c(e.getDate())}function h(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),$||1,0,86400)}function b(e,t,a,s){var n;return void 0===O[t]||(n=+e[O[t]],isNaN(n))?a?Me[t](a):void 0!==I[t]?I[t]:Me[t](s):n}function p(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==O.dd&&(t=e[O.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==O.tt&&(t=t||a,t=new Date(t.getTime()+e[O.tt]%86400*1e3));var s=b(e,"y",t,a),n=b(e,"m",t,a),i=Math.min(b(e,"d",t,a),j.getMaxDayOfMonth(s,n)),o=b(e,"h",t,a);return j.getDate(s,n,i,re&&b(e,"a",t,a)?o+12:o,b(e,"i",t,a),b(e,"s",t,a),b(e,"u",t,a))}function v(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==O[s]&&(i[O[s]]=Me[s](e)),t&&(I[s]=Me[s](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function y(e){return{value:e,display:(/yy/i.test(Q)?e:(e+"").substr(2,2))+(j.yearSuffix||"")}}function _(e){return e}function x(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:ne?g(f(ne),t):void 0,max:oe?g(f(oe),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!Y(n,!0),value:f(n),display:s.getTime()==n.getTime()?j.todayText:S(e,n,j)}},getIndex:function(e){return g(e,t)}}}function w(e){var t,a,s,n=[];for(/s/i.test(e)?a=he:/i/i.test(e)?a=60*fe:/h/i.test(e)&&(a=3600*me),$=Te.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:S(e,s,j)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function C(){var e,t,a,s,n,i,o,l,r=0,d=[],u=[],m=[];if(/date/i.test(B)){for(e=Z.split(/\|/.test(Z)?"|":""),s=0;s<e.length;s++)if(a=e[s],i=0,a.length)if(/y/i.test(a)&&(q.y=1,i++),/m/i.test(a)&&(q.y=1,q.m=1,i++),/d/i.test(a)&&(q.y=1,q.m=1,q.d=1,i++),i>1&&void 0===O.dd)O.dd=r,r++,u.push(x(a)),m=u,F=!0;else if(/y/i.test(a)&&void 0===O.y)O.y=r,r++,u.push({cssClass:"mbsc-dt-whl-y",label:j.yearText,min:ne?j.getYear(ne):void 0,max:oe?j.getYear(oe):void 0,data:y,getIndex:_});else if(/m/i.test(a)&&void 0===O.m){for(O.m=r,o=[],r++,n=0;n<12;n++)l=Q.replace(/[dy|]/gi,"").replace(/mm/,c(n+1)+(j.monthSuffix||"")).replace(/m/,n+1+(j.monthSuffix||"")),o.push({value:n,display:/MM/.test(l)?l.replace(/MM/,'<span class="mbsc-dt-month">'+j.monthNames[n]+"</span>"):l.replace(/M/,'<span class="mbsc-dt-month">'+j.monthNamesShort[n]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:j.monthText,data:o})}else if(/d/i.test(a)&&void 0===O.d){for(O.d=r,o=[],r++,n=1;n<32;n++)o.push({value:n,display:(/dd/i.test(Q)?c(n):n)+(j.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:j.dayText,data:o})}d.push(u)}if(/time/i.test(B)){for(t=K.split(/\|/.test(K)?"|":""),s=0;s<t.length;s++)if(a=t[s],i=0,a.length&&(/h/i.test(a)&&(q.h=1,i++),/i/i.test(a)&&(q.i=1,i++),/s/i.test(a)&&(q.s=1,i++),/a/i.test(a)&&i++),i>1&&void 0===O.tt)O.tt=r,r++,m.push(w(a));else if(/h/i.test(a)&&void 0===O.h){for(o=[],O.h=r,q.h=1,r++,n=pe;n<(re?12:24);n+=me)o.push({value:n,display:re&&0===n?12:/hh/i.test(ee)?c(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:j.hourText,data:o})}else if(/i/i.test(a)&&void 0===O.i){for(o=[],O.i=r,q.i=1,r++,n=ve;n<60;n+=fe)o.push({value:n,display:/ii/i.test(ee)?c(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:j.minuteText,data:o})}else if(/s/i.test(a)&&void 0===O.s){for(o=[],O.s=r,q.s=1,r++,n=ge;n<60;n+=he)o.push({value:n,display:/ss/i.test(ee)?c(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:j.secText,data:o})}else/a/i.test(a)&&void 0===O.a&&(O.a=r,r++,m.push({cssClass:"mbsc-dt-whl-a",label:j.ampmText,data:/A/.test(a)?[{value:0,display:j.amText.toUpperCase()},{value:1,display:j.pmText.toUpperCase()}]:[{value:0,display:j.amText},{value:1,display:j.pmText}]}));m!=u&&d.push(m)}return d}function T(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=V(t,a)),s&&"undefined"!=s&&(n.max=V(t,s))}return n}function D(e,t){var a,s,n=!1,i=!1,o=0,l=0,r=ne?p(v(ne)):-(1/0),c=oe?p(v(oe)):1/0;if(Y(e))return e;if(e<r&&(e=r),e>c&&(e=c),a=e,s=e,2!==t)for(n=Y(a,!0);!n&&a<c&&o<100;)a=new Date(a.getTime()+864e5),n=Y(a,!0),o++;if(1!==t)for(i=Y(s,!0);!i&&s>r&&l<100;)s=new Date(s.getTime()-864e5),i=Y(s,!0),l++;return 1===t&&n?a:2===t&&i?s:M(e,a)?a:M(e,s)?s:l<=o&&i?s:a}function M(e,t){return j.getYear(e)===j.getYear(t)&&j.getMonth(e)===j.getMonth(t)}function Y(e,t){return!(!t&&e<ne)&&(!(!t&&e>oe)&&(!!A(e,se)||!A(e,ae)))}function A(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(Ue.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(ze.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(a=H(a,J,j),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0;return!1}function E(e,t,a,s,n,i,o){var l,r,c,d;if(e)for(r=0;r<e.length;r++)if(l=e[r],d=l+"",!l.start)if(Ue.test(d))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=o);else ze.test(d)?(d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=o):i[d[0]]=o):(l=H(l,J,j),j.getYear(l)==t&&j.getMonth(l)==a&&(i[j.getDay(l)]=o))}function P(e,t,s,n,i,o,l,r){var c,d,u,m,f,h,b,p,v,g,y,_,x,w,C,T,D,M,k,S,V={},Y=j.getDate(n,i,o),A=["a","h","i","s"];if(e){for(b=0;b<e.length;b++)y=e[b],y.start&&(y.apply=!1,u=y.d,D=u+"",M=D.split("/"),u&&(u.getTime&&n==j.getYear(u)&&i==j.getMonth(u)&&o==j.getDay(u)||!Ue.test(D)&&(M[1]&&o==M[1]&&i==M[0]-1||!M[1]&&o==M[0])||Ue.test(D)&&Y.getDay()==+D.replace("w",""))&&(y.apply=!0,V[Y]=!0));for(b=0;b<e.length;b++)if(y=e[b],c=0,T=0,p=we[s],v=Ce[s],w=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!V[Y])){for(_=y.start.split(":"),x=y.end.split(":"),g=0;g<3;g++)void 0===_[g]&&(_[g]=0),void 0===x[g]&&(x[g]=59),_[g]=+_[g],x[g]=+x[g];if("tt"==s)p=a(Math.round((new Date(Y).setHours(_[0],_[1],_[2])-new Date(Y).setHours(0,0,0,0))/1e3),$,0,86400),v=a(Math.round((new Date(Y).setHours(x[0],x[1],x[2])-new Date(Y).setHours(0,0,0,0))/1e3),$,0,86400);else{for(_.unshift(_[0]>11?1:0),x.unshift(x[0]>11?1:0),re&&(_[1]>=12&&(_[1]=_[1]-12),x[1]>=12&&(x[1]=x[1]-12)),g=0;g<t;g++)void 0!==R[g]&&(k=a(_[g],Te[A[g]],we[A[g]],Ce[A[g]]),S=a(x[g],Te[A[g]],we[A[g]],Ce[A[g]]),m=0,f=0,h=0,re&&1==g&&(m=_[0]?12:0,f=x[0]?12:0,h=R[0]?12:0),w||(k=0),C||(S=Ce[A[g]]),(w||C)&&k+m<R[g]+h&&R[g]+h<S+f&&(d=!0),R[g]!=k&&(w=!1),R[g]!=S&&(C=!1));if(!r)for(g=t+1;g<4;g++)_[g]>0&&(c=Te[s]),x[g]<Ce[A[g]]&&(T=Te[s]);d||(k=a(_[t],Te[s],we[s],Ce[s])+c,S=a(x[t],Te[s],we[s],Ce[s])-T,w&&(p=k),C&&(v=S))}if(w||C||d)for(g=p;g<=v;g+=Te[s])l[g]=!r}}}var $,F,L,O={},I={},q={},R=[],X=T(ie(this)),z=de({},e.settings),U=N[z.calendarSystem],j=de(e.settings,je,U,Be,X,z),B=j.preset,G="datetime"==B?j.dateFormat+j.separator+j.timeFormat:"time"==B?j.timeFormat:j.dateFormat,J=X.format||G,Z=j.dateWheels||j.dateFormat,K=j.timeWheels||j.timeFormat,Q=j.dateWheels||j.dateDisplay,ee=K,te=j.baseTheme||j.theme,ae=t(j.invalid),se=t(j.valid),ne=H(j.min,J,j),oe=H(j.max,J,j),le=/time/i.test(B),re=/h/.test(ee),ce=/D/.test(Q),ue=j.steps||{},me=ue.hour||j.stepHour||1,fe=ue.minute||j.stepMinute||1,he=ue.second||j.stepSecond||1,be=ue.zeroBased,pe=be||!ne?0:ne.getHours()%me,ve=be||!ne?0:ne.getMinutes()%fe,ge=be||!ne?0:ne.getSeconds()%he,ye=s(me,pe,re?11:23),_e=s(fe,ve,59),xe=s(fe,ve,59),we={y:ne?ne.getFullYear():-(1/0),m:0,d:1,h:pe,i:ve,s:ge,a:0,tt:0},Ce={y:oe?oe.getFullYear():1/0,m:11,d:31,h:ye,i:_e,s:xe,a:1,tt:86400},Te={y:1,m:1,d:1,h:me,i:fe,s:he,a:1,tt:1},De={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Me={y:n,m:i,d:o,h:l,i:r,s:d,u:u,a:m,dd:f,tt:h};return e.getVal=function(t){return e._hasValue||t?W(p(e.getArrayVal(t)),j,J):null},e.getDate=function(t){return e._hasValue||t?p(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,i){e.setArrayVal(v(t,!0),a,i,n,s)},L=C(),j.isoParts=q,e._format=G,e._order=O,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:j.nowText,icon:j.nowIcon,handler:"now"},{minWidth:F&&le?De[te]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:L,headerText:!!j.headerText&&function(){return S(G,p(e.getArrayVal(!0)),j)},formatValue:function(e){return S(J,p(e),j)},parseValue:function(t){return t||(I={},e._hasValue=!1),v(H(t||j.defaultValue||new Date,J,j,q),!!t)},validate:function(t){var a,s,n,i,o=t.values,l=t.index,r=t.direction,c=j.wheels[0][O.d],d=D(p(o),r),u=v(d),m=[],f={},h=Me.y(d),b=Me.m(d),g=j.getMaxDayOfMonth(h,b),y=!0,_=!0;if(ie.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){var a=we[t],n=Ce[t],i=Me[t](d);if(m[O[t]]=[],y&&ne&&(a=Me[t](ne)),_&&oe&&(n=Me[t](oe)),i<a&&(i=a),i>n&&(i=n),"dd"!==t&&"tt"!==t&&(y&&(y=i==a),_&&(_=i==n)),void 0!==O[t]){if("y"!=t&&"dd"!=t)for(s=we[t];s<=Ce[t];s+=Te[t])(s<a||s>n)&&m[O[t]].push(s);if("d"==t){var o=j.getDate(h,b,1).getDay(),l={};
E(ae,h,b,o,g,l,1),E(se,h,b,o,g,l,0),ie.each(l,function(e,a){a&&m[O[t]].push(e)})}}}),le&&ie.each(["a","h","i","s","tt"],function(t,a){var s=Me[a](d),n=Me.d(d),i={};void 0!==O[a]&&(P(ae,t,a,h,b,n,i,0),P(se,t,a,h,b,n,i,1),ie.each(i,function(e,t){t&&m[O[a]].push(e)}),R[t]=e.getValidValue(O[a],s,r,i))}),c&&(c._length!==g||ce&&(void 0===l||l===O.y||l===O.m))){for(f[O.d]=c,c.data=[],a=1;a<=g;a++)i=j.getDate(h,b,a).getDay(),n=Q.replace(/[my|]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(j.daySuffix||"")).replace(/d/,a+(j.daySuffix||"")),c.data.push({value:a,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+j.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+j.dayNamesShort[i]+"</span>")});e._tempWheelArray[O.d]=u[O.d],e.changeWheel(f)}return{disabled:m,valid:u}}}},Je={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Ze=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function a(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):a(e)}function i(){var t,a,s;be={},pe=[],xe={},mt=e.trigger,K=ie(wt),s=de({},e.settings),dt=de(e.settings,Je,s),t=dt.controls.join(","),De=dt.firstDay,We=dt.rtl,it=dt.pageBuffer,bt=dt.weekCounter,ue=dt.weeks,$e=6==ue,He="vertical"==dt.calendarScroll,he="inline"==dt.display?K.is("div")?K:K.parent():e._$window,pt="full"==dt.weekDays?"":"min"==dt.weekDays?"Min":"Short",a=dt.layout||("inline"==dt.display||/top|bottom/.test(dt.display)&&dt.touchUi?"liquid":""),Pe="liquid"==a,fe=Pe?null:dt.calendarWidth,ct=We&&!He?-1:1,ve="mbsc-disabled "+(dt.disabledClass||""),ye="mbsc-selected "+(dt.selectedTabClass||""),ge="mbsc-selected "+(dt.selectedClass||""),Re=Math.max(1,Math.floor(((dt.calendarHeight||0)/ue-45)/18)),t.match(/calendar/)&&(be.calendar=1,Me=!0),t.match(/date/)&&!Me&&(be.date=1),t.match(/time/)&&(be.time=1),dt.controls.forEach(function(e){be[e]&&pe.push(e)}),Ye=dt.quickNav&&Me&&$e,vt=dt.yearChange&&$e,Pe&&Me&&"center"==dt.display&&(e._isFullScreen=!0),dt.layout=a,dt.preset=(be.date||Me?"date":"")+(be.time?"time":"")}function o(){tt=vt?dt.monthNamesShort:dt.monthNames,_t=dt.yearSuffix||"",et=(dt.dateWheels||dt.dateFormat).search(/m/i),gt=(dt.dateWheels||dt.dateFormat).search(/y/i),Te=e._format,dt.min&&(Be=A(H(dt.min,Te,dt)),Qe=dt.getYear(Be),Ke=dt.getMonth(Be),Ze=dt.getDate(12*Math.floor(Qe/12),0,1)),dt.max&&(Ne=A(H(dt.max,Te,dt)),je=dt.getYear(Ne),Xe=dt.getMonth(Ne),qe=dt.getDate(12*Math.floor(je/12),0,1))}function l(e,t,a){e[t]=e[t]||[],e[t].push(a)}function r(e,t,a){var s,n,i,o,r=dt.getYear(t),c=dt.getMonth(t),d={};return e&&ie.each(e,function(e,u){if(s=u.d||u.start||u,n=s+"",u.start&&u.end)for(o=A(H(u.start,Te,dt)),i=A(H(u.end,Te,dt));o<=i;)l(d,o,u),o=dt.getDate(dt.getYear(o),dt.getMonth(o),dt.getDay(o)+1);else if(Ue.test(n))for(o=R(t,!1,+n.replace("w",""));o<=a;)l(d,o,u),o=dt.getDate(dt.getYear(o),dt.getMonth(o),dt.getDay(o)+7);else if(ze.test(n))if(n=n.split("/"),n[1])for(o=dt.getDate(r,n[0]-1,n[1]);o<=a;)l(d,o,u),o=dt.getDate(dt.getYear(o)+1,dt.getMonth(o),n[1]);else for(o=dt.getDate(r,c,n[0]);o<=a;)l(d,o,u),o=dt.getDate(dt.getYear(o),dt.getMonth(o)+1,n[0]);else l(d,A(H(s,Te,dt)),u)}),d}function c(e){return!(e<Be)&&(!(e>Ne)&&(void 0===Ae[e]||void 0!==ft[e]))}function d(t){var a,s,n,i,o=!!Oe[t]&&Oe[t],l=!!Ie[t]&&Ie[t],r=l&&l[0].background?l[0].background:o&&o[0].background,c="";if(l)for(a=0;a<l.length;a++)c+=(l[a].cssClass||"")+" ";if(o){for(n='<div class="mbsc-cal-marks">',a=0;a<o.length;a++)s=o[a],c+=(s.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(s.color?' style="background:'+s.color+';"':"")+"></div>";n+="</div>"}return i={marked:o,background:r,cssClass:c,markup:xe[t]?xe[t].join(""):Se?n:""},de(i,e._getDayProps(t,i))}function m(e){return' style="'+(He?"transform: translateY("+100*e+"%)":"left:"+100*e*ct+"%")+'"'}function f(){ot="auto"==dt.months?Math.max(1,Math.min(3,Math.floor((fe||L(he))/280))):+dt.months,rt=ot+2*it,lt=0,He=He&&ot<2,ut=void 0===dt.showOuterDays?ot<2&&!He:dt.showOuterDays}function h(e){return X(e,ot-1)>Ne&&(e=X(Ne,1-ot)),e<Be&&(e=Be),e}function b(e,t,a){var s=e.color,n=e.text;return'<div data-id="'+e._id+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+ie("<div>"+n+"</div>").text()+'"'+(s?' style="background:'+s+(a?";color:"+C(s):"")+';"':"")+">"+(a?n:"")+"</div>"}function p(t){var a=R(X(t,-lt-it),!1),s=R(X(t,-lt+ot+it-1),!1);s=dt.getDate(dt.getYear(s),dt.getMonth(s),dt.getDay(s)+7*ue),e._onGenMonth(a,s),Ae=r(dt.invalid,a,s),ft=r(dt.valid,a,s),Oe=r(dt.labels||dt.events||dt.marked,a,s),Ie=r(dt.colors,a,s),Le=e._labels||Oe||Ie,ke=dt.labels||e._labels,ke&&!function(){xe={};for(var e={},t=a,n=function(){t.getDay()==De&&(e={});for(var a=Re,s=Le[t]||[],n=s.length,i=[],o=void 0,l=void 0,r=0,c=0,d=0,u=void 0;r<a;)if(o=null,s.forEach(function(t,a){e[r]==t&&(o=t,l=a)}),r==a-1&&(c<n-1||n&&d==n&&!o)){var m=n-c,f=(m>1?dt.moreEventsPluralText||dt.moreEventsText:dt.moreEventsText).replace(/{count}/,m);m&&i.push('<div class="mbsc-cal-txt-more">'+f+"</div>"),o&&(e[r]=null,o._days.forEach(function(e){xe[e][r]='<div class="mbsc-cal-txt-more">'+dt.moreEventsText.replace(/{count}/,1)+"</div>"})),c++,r++}else if(o)l==d&&d++,F(t,H(o.end))&&(e[r]=null),i.push(b(o,l)),r++,c++,o._days.push(t);else if(d<n){var h=s[d],p=h.start&&H(h.start),v=h.end&&H(h.end),g=t.getDay(),y=De-g>0?7:0,_=v&&!F(p,v);p&&!F(t,p)&&g!=De||(void 0===h._id&&(h._id=xt++),_&&(e[r]=h),h._days=[t],u=_?100*Math.min(Y(t,A(v))+1,7+De-g-y):100,i.push(_?'<div class="mbsc-cal-txt-w" style="width:'+u+'%">'+b(h,d,!0)+"</div>"+b(h,d):b(h,d,!0)),r++,c++),d++}else i.push('<div class="mbsc-cal-txt-ph"></div>'),r++;xe[t]=i,t=dt.getDate(dt.getYear(t),dt.getMonth(t),dt.getDay(t)+1)};t<s;)n()}()}function v(e){var t=dt.getYear(e),a=dt.getMonth(e);_e=e,re=e,W(e),mt("onMonthChange",{year:t,month:a}),mt("onMonthLoading",{year:t,month:a}),mt("onPageChange",{firstDay:e}),mt("onPageLoading",{firstDay:e}),p(e)}function g(e){var t=dt.getYear(e),a=dt.getMonth(e);void 0===nt?y(e,t,a):M(e,nt,!0),S(re,Ce.focus),Ce.focus=!1}function y(e,t,a){var s=Ce.$scroller;ie(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),ie(".mbsc-cal-slide",s).slice(it,it+ot).addClass("mbsc-cal-slide-a"),ke&&ie(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=ie(this).attr("data-id");ie('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){ie(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),mt("onMonthLoaded",{year:t,month:a}),mt("onPageLoaded",{firstDay:e})}function _(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',pe.forEach(function(a,s){t=dt[("calendar"==a?"date":a)+"Text"],e+='<div role="tab" aria-controls="'+(wt.id+"-mbsc-pnl-"+s)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(s?"":ye)+'" data-control="'+a+'"'+(dt.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function x(){var e,t,a,s,n,i,o="",l=We?dt.btnCalNextClass:dt.btnCalPrevClass,r=We?dt.btnCalPrevClass:dt.btnCalNextClass;for(n='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+dt.prevMonthText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(ue?ot:1);t++)n+='<div role="button" class="mbsc-cal-month"></div>';if(n+='<div data-step="1" role="button" tabindex="0" aria-label="'+dt.nextMonthText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',vt&&(o='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+dt.prevYearText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+dt.nextYearText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),ue&&(i=M(_e)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+($e?"":" mbsc-cal-week-view")+(ot>1?" mbsc-cal-multi ":"")+(bt?" mbsc-cal-weeks ":"")+(He?" mbsc-cal-vertical":"")+(Se?" mbsc-cal-has-marks":"")+(ke?" mbsc-cal-has-labels":"")+(ut?"":" mbsc-cal-hide-diff ")+(dt.calendarClass||"")+'"'+(Pe?"":' style="width:'+(fe||280*ot)+'px;"')+'><div class="mbsc-cal-hdr">'+(gt<et||ot>1?o+n:n+o)+"</div>",ue){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',a=0;a<ot;a++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)s=(t+De)%7,e+='<div class="mbsc-cal-week-day'+s+'" aria-label="'+dt.dayNames[s]+'">'+dt["dayNames"+pt][s]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(dt.calendarClass||"")+'"'+(dt.calendarHeight?' style="height:'+dt.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/ot+'%">'+i+"</div></div>"}if(e+="</div>",Ye){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(dt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+m(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',a=0;a<12;a++)a&&a%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+dt.monthNames[a]+'" data-val="'+a+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?dt.monthNamesShort[a]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(dt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=w(z(_e,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function w(e,t){var a,s=dt.getYear(e),n='<div class="mbsc-cal-slide"'+m(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(a=0;a<12;a++)a&&a%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+s+'" data-val="'+s+'" class="mbsc-cal-cell mbsc-btn-e '+(s<Qe||s>je?" mbsc-disabled ":"")+(s==dt.getYear(_e)?ge:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+s+_t+"</div></div>",s++;return n+="</div></div></div>"}function D(t,a){var s,n,i,o,l,r,u,f,h,b,p,v,g,y,_,x,w=1,T=dt.getYear(t),D=dt.getMonth(t),M=dt.getDay(t),k=null!==dt.defaultValue||e._hasValue?e.getDate(!0):null,S=dt.getDate(T,D,M).getDay(),V=De-S>0?7:0,Y='<div class="mbsc-cal-slide"'+m(a)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(x=0;x<7*ue;x++)_=x+De-V,s=dt.getDate(T,D,_-S+M),i=s.getFullYear(),o=s.getMonth(),l=s.getDate(),r=dt.getMonth(s),u=dt.getDay(s),y=dt.getMaxDayOfMonth(i,o),f=i+"-"+(o+1)+"-"+l,h=de({valid:c(s),selected:k&&F(k,s)},d(s)),b=h.valid,p=h.selected,n=h.cssClass,v=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=r!==D,we[f]=h,x&&x%7===0&&(Y+='</div><div class="mbsc-cal-row">'),bt&&x%7===0&&("month"==bt&&g&&w>1?w=1==l?1:2:"year"==bt&&(w=dt.getWeekNumber(dt.getDate(i,o,l+(7-De+1)%7))),Y+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+w+"</div>",w++),Y+='<div role="gridcell" aria-label="'+(v?dt.todayText+", ":"")+dt.dayNames[s.getDay()]+", "+dt.monthNames[r]+" "+u+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(g&&!ut?' aria-hidden="true"':' data-full="'+f+'"')+(p?' aria-selected="true"':"")+(b?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+_%7+" "+(dt.dayClass||"")+" "+(p?ge:"")+(v?" "+dt.todayClass:"")+(n?" "+n:"")+(1==u?" mbsc-cal-day-first":"")+(u==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(b?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+C(h.background)+'"':"")+">"+u+"</div>"+(h.markup||"")+"</div></div>";return Y+="</div></div></div>"}function M(e,t,a){var s,n=dt.getYear(e),i=dt.getMonth(e),o=Ce?Ce.pos:0,l="";if(we={},ue)for(t||(mt("onMonthLoading",{year:n,month:i}),mt("onPageLoading",{firstDay:e})),p(e),s=0;s<rt;s++)l+=D(X(e,s-lt-it),o*ct+s-it);return nt=void 0,a&&Ce&&(Ce.$active=null,Ce.$scroller.html(l),y(e,n,i)),l}function S(e,t){if(Ce){var a=Ce.$active;a&&a.length&&(a[0].blur(),a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),Ce.$active=ie('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+E(e)+'"]',Ce.$scroller).attr("tabindex","0"),t&&Ce.$active.length&&Ce.$active[0].focus()}}function V(t){var a=Ce&&Ce.$scroller;dt.highlight&&Ce&&(ie(".mbsc-selected",a).removeClass(ge).removeAttr("aria-selected"),(null!==dt.defaultValue||e._hasValue)&&ie('.mbsc-cal-day[data-full="'+E(t)+'"]',a).addClass(ge).attr("aria-selected","true"))}function P(e,t){ie(".mbsc-selected",t).removeClass(ge).removeAttr("aria-selected"),ie('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(ge).attr("aria-selected","true")}function $(t,a,s,n){var i,o;ht&&(t<Be&&(t=Be),t>Ne&&(t=Ne),"calendar"!==ht&&Ve&&!a||(e._isSetDate=!a,Me&&ue&&(o=R(h(t),$e),st&&(t<X(_e,-lt)||t>=X(_e,ot-lt))&&(i=$e?dt.getMonth(o)-dt.getMonth(_e)+12*(dt.getYear(o)-dt.getYear(_e)):Math.floor(Y(_e,o)/(7*ue)),i&&(Ce.queue=[],Ce.focus=n&&s,U(Ce,i,s))),i&&s||S(t,n),a||V(t),$e||W(t,!0),re=t,st=!0),e._onSetDate(t,i),e._isSetDate=!1))}function W(e,t){var a,s,n,i=dt.getYear(e),o=dt.getMonth(e),l=i+_t;if(Ye){if(P(o,at.$scroller),P(i,yt.$scroller),U(yt,Math.floor(i/12)-Math.floor(dt.getYear(yt.first)/12),!0),ie(".mbsc-cal-cell",at.$scroller).removeClass("mbsc-disabled"),i===Qe)for(a=0;a<Ke;a++)ie('.mbsc-cal-cell[data-val="'+a+'"]',at.$scroller).addClass("mbsc-disabled");if(i===je)for(a=Xe+1;a<=12;a++)ie('.mbsc-cal-cell[data-val="'+a+'"]',at.$scroller).addClass("mbsc-disabled")}for(t||(O(ie(".mbsc-cal-prev-m",ee),X(e,-lt)<=Be),O(ie(".mbsc-cal-next-m",ee),X(e,ot-lt)>Ne),O(ie(".mbsc-cal-prev-y",ee),dt.getDate(i-1,o+1,1)<=Be),O(ie(".mbsc-cal-next-y",ee),dt.getDate(i+1,o,1)>Ne)),oe.attr("aria-label",i).html(l),a=0;a<ot;a++)e=dt.getDate(i,o-lt+a,1),s=dt.getYear(e),n=dt.getMonth(e),l=s+_t,te.eq(a).attr("aria-label",dt.monthNames[n]+(vt?"":" "+i)).html((!vt&&gt<et?l+" ":"")+tt[n]+(!vt&&gt>et?" "+l:""))}function O(e,t){t?e.addClass(ve).attr("aria-disabled","true"):e.removeClass(ve).removeAttr("aria-disabled")}function I(t,a){var s=e.getDate(!0),n=t[0],i=t.attr("data-full"),o=i?i.split("-"):[],l=k(o[0],o[1]-1,o[2]),r=k(l.getFullYear(),l.getMonth(),l.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),c=t.hasClass("mbsc-selected"),d=ie(a.target),u=d[0];if(ut||!t.hasClass("mbsc-cal-day-diff")){if(ke&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),f=Le[l];if(mt("onLabelTap",{date:r,domEvent:a,target:d[0],labels:f,label:f[m]})===!1)return;break}d=d.parent(),u=d[0]}mt("onDayChange",de(we[i],{date:r,target:n,selected:c}))===!1||dt.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,l,r,c)}}function N(e){a(ae),$(dt.getDate(dt.getYear(Ce.first),e.attr("data-val"),1),!0,!0)}function q(e){a(le),$(dt.getDate(e.attr("data-val"),dt.getMonth(Ce.first),1),!0,!0)}function R(e,t,a){var s=dt.getYear(e),n=dt.getMonth(e),i=e.getDay(),o=De-i>0?7:0;return t?dt.getDate(s,n,1):dt.getDate(s,n,(void 0===a?De:a)-o-i+dt.getDay(e))}function X(e,t){var a=dt.getYear(e),s=dt.getMonth(e),n=dt.getDay(e);return $e?dt.getDate(a,s+t,1):dt.getDate(a,s,n+t*ue*7)}function z(e,t){var a=12*Math.floor(dt.getYear(e)/12);return dt.getDate(a+12*t,0,1)}function U(t,a,s,n){a&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&j(t,a,s,n))}function j(e,t,a,s){var n,i,o="",l=e.$scroller,r=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,f=e.genPage,h=e.getFirst,b=t>0?Math.min(t,r):Math.max(t,-r),p=e.pos*ct+b-t+c,v=Math.abs(t)>r;e.callback&&(e.load(),e.callback(!0)),e.first=h(m,t),e.pos+=b*ct,e.changing=!0,e.load=function(){if(v){for(n=0;n<d;n++)i=t+n-c,o+=f(h(m,i),p+i);t>0?(ie(".mbsc-cal-slide",l).slice(-d).remove(),l.append(o)):t<0&&(ie(".mbsc-cal-slide",l).slice(0,d).remove(),l.prepend(o))}},e.callback=function(a){var o=Math.abs(b),d="";for(n=0;n<o;n++)i=t+n-c-r+(t>0?u-o:0),d+=f(h(m,i),p+i);if(t>0?(l.append(d),ie(".mbsc-cal-slide",l).slice(0,b).remove()):t<0&&(l.prepend(d),ie(".mbsc-cal-slide",l).slice(b).remove()),v){for(d="",n=0;n<o;n++)i=t+n-c-r+(t>0?0:u-o),d+=f(h(m,i),p+i);t>0?(ie(".mbsc-cal-slide",l).slice(0,b).remove(),l.prepend(d)):t<0&&(ie(".mbsc-cal-slide",l).slice(b).remove(),l.append(d))}G(e),s&&!a&&s(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?j.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load&&(e.load(),e.scroller.scroll(-e.pos*e.size,a?200:0,!1,e.callback))}function B(t,a,s,n,i,o,l,r,c,d,m,f,h){var b=He?"Y":"X",p={$scroller:ie(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:o,first:r,total:l,pos:0,min:a,max:s,genPage:f,getFirst:h,onBeforeChange:d,onAfterChange:m};return p.scroller=new Fe(t,{axis:b,easing:"",contSize:0,maxSnapScroll:n,mousewheel:void 0===dt.mousewheel?He:dt.mousewheel,time:200,lock:!0,rtl:We,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&u(),c(ie(e.target),e.domEvent)},onAnimationStart:function(){p.changing=!0},onAnimationEnd:function(e){f&&U(p,Math.round((-p.pos*p.size-e["pos"+b])/p.size)*ct)}}),e._scrollers.push(p.scroller),p}function G(e,t){var a,s=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(s=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;s&&e.getFirst(i,1-s-e.offset)<=e.min;)s--}a=Math.round(me/e.pages),Pe&&a&&e.size!=a&&e.$scroller[He?"height":"width"](a),de(e.scroller.settings,{snap:a,minScroll:(-e.pos*ct-n)*a,maxScroll:(-e.pos*ct+s)*a}),e.size=a,e.scroller.refresh()}}function J(t){e._onRefresh(t),e._isVisible&&Me&&ue&&(Ce&&Ce.changing?nt=t:(M(_e,t,!0),S(re)))}function Z(){if(Me&&ue){var t=ie(".mbsc-cal-scroll-c",ee);Ce=B(t[0],Be,Ne,it,lt,ot,rt,_e,I,v,g,D,X),Ye&&(at=B(t[1],null,null,1,0,1,3,_e,N),yt=B(t[2],Ze,qe,1,0,1,3,_e,q,s,s,w,z),e.tap(te,function(){n(ae),a(le)}),e.tap(oe,function(){n(le),a(ae)})),T(ie(".mbsc-cal-btn",ee),function(e,t,a,s){U(Ce,t,!0,s)}),g(_e),null===dt.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=Ce.$active[0]),Q.on("keydown",function(e){var t,a=dt.getYear(re),s=dt.getMonth(re),n=dt.getDay(re);switch(e.keyCode){case 32:I(Ce.$active,e);break;case 37:t=dt.getDate(a,s,n-1*ct);break;case 39:t=dt.getDate(a,s,n+1*ct);break;case 38:t=dt.getDate(a,s,n-7);break;case 40:t=dt.getDate(a,s,n+7);break;case 36:t=dt.getDate(a,s,1);break;case 35:t=dt.getDate(a,s+1,0);break;case 33:t=e.altKey?dt.getDate(a-1,s,n):$e?dt.getDate(a,s-1,n):dt.getDate(a,s,n-7*ue);break;case 34:t=e.altKey?dt.getDate(a+1,s,n):$e?dt.getDate(a,s+1,n):dt.getDate(a,s,n+7*ue)}t&&(e.preventDefault(),$(t,!0,!1,!0))})}e.tap(ie(".mbsc-cal-tab",ee),function(){e.changeTab(ie(this).attr("data-control"))})}var K,Q,ee,te,ae,se,ne,oe,le,re,ce,ue,me,fe,he,be,pe,ve,ge,ye,_e,xe,we,Ce,Te,De,Me,ke,Se,Ve,Ye,Ae,Ee,Pe,$e,We,He,Le,Oe,Ie,Ne,qe,Re,Xe,je,Be,Ze,Ke,Qe,et,tt,at,st,nt,it,ot,lt,rt,ct,dt,ut,mt,ft,ht,bt,pt,vt,gt,yt,_t,xt=1,wt=this;return i(),ce=Ge.call(this,e),o(),e.refresh=function(){J(!1)},e.redraw=function(){J(!0)},e.navigate=function(e,t){$(H(e,Te,dt),!0,t)},e.changeTab=function(t){e._isVisible&&be[t]&&ht!=t&&(ht=t,ie(".mbsc-cal-tab",ee).removeClass(ye).removeAttr("aria-selected"),ie('.mbsc-cal-tab[data-control="'+t+'"]',ee).addClass(ye).attr("aria-selected","true"),Ve&&(ne.addClass("mbsc-cal-h"),be[ht].removeClass("mbsc-cal-h")),"calendar"==ht&&$(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:ht}))},e._checkSize=!0,e._onGenMonth=s,e._onSelectShow=s,e._onSetDate=s,e._onRefresh=s,e._getDayProps=s,e._prepareObj=r,e._showDayPicker=function(){Ye&&(a(le,!0),a(ae,!0))},e._selectDay=e.__selectDay=function(t,a,s){var n=e.live;st=dt.outerMonthChange,Ee=!0,e.setDate(s,n,1e3,!n,!0),n&&mt("onSet",{valueText:e._value})},de(ce,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var a=0;ee=ie(t.target),se=ie(".mbsc-fr-c",ee),re=e.getDate(!0),me=0,Me&&(Se=!(!dt.marked&&!dt.data||dt.labels||dt.multiLabel||dt.showEventCount),st=!0,ht="calendar",f(),_e=R(h(re),$e),se.append(x()),te=ie(".mbsc-cal-month",ee),oe=ie(".mbsc-cal-year",ee),Q=ie(".mbsc-cal-day-scroll-c",ee)),Ye&&(le=ie(".mbsc-cal-year-picker",ee),ae=ie(".mbsc-cal-month-picker",ee)),ne=ie(".mbsc-w-p",ee),pe.length>1&&se.before(_()),["date","time","calendar"].forEach(function(e){be[e]?(be[e]=ne.eq(a),a++):"date"==e&&!be.date&&Me&&(ne.eq(a).remove(),a++)}),pe.forEach(function(e){se.append(be[e])}),!Me&&be.date&&be.date.css("position","relative"),e._scrollers=[],Z()},onShow:function(){Me&&ue&&W($e?_e:re)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),we=null,Ce=null,at=null,yt=null,ht=null},onValidated:function(t){var a,s,n=t.index,i=e._order;s=e.getDate(!0),Ee?a="calendar":void 0!==n&&(a=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),mt("onSetDate",{date:s,control:a}),"time"!==a&&$(s,!1,!!t.time,Ee&&!e._multiple),Ee=!1},onPosition:function(t){var a,s,n,i,o,l,r,c=t.oldHeight,d=t.windowHeight;if(Ve=(t.hasTabs||dt.tabs===!0||dt.tabs!==!1&&Pe)&&pe.length>1,Pe&&(t.windowWidth>=dt.breakPointMd?ie(t.target).addClass("mbsc-fr-md"):ie(t.target).removeClass("mbsc-fr-md")),Ve?(ee.addClass("mbsc-cal-tabbed"),ht=ie(".mbsc-cal-tab.mbsc-selected",ee).attr("data-control"),ne.addClass("mbsc-cal-h"),be[ht].removeClass("mbsc-cal-h")):(ee.removeClass("mbsc-cal-tabbed"),ne.removeClass("mbsc-cal-h")),e._isFullScreen&&(Q.height(""),o=t.popup.offsetHeight,r=d-o+Q[0].offsetHeight,d>=o&&Q.height(r)),ke&&ue&&d!=c){var u=r||Q[0].offsetHeight,m=ie(".mbsc-cal-txt-ph")[0],f=m.offsetTop,h=m.offsetHeight,b=Math.max(1,Math.floor((u/ue-f)/(h+2)));Re!=b&&(Re=b,e.redraw())}if(Me&&ue){if(l=Pe||He||Ve?Q[0][He?"offsetHeight":"offsetWidth"]:fe||280*ot,i=l!=me,me=l,Pe&&i&&vt)for(tt=dt.maxMonthWidth>te[0].offsetWidth?dt.monthNamesShort:dt.monthNames,s=dt.getYear(_e),n=dt.getMonth(_e),a=0;a<ot;a++)te.eq(a).text(tt[dt.getMonth(dt.getDate(s,n-lt+a,1))]);i&&G(Ce,!0)}Ye&&i&&(G(at,!0),G(yt,!0))}})},Ke={};Le.calendar=function(e){function t(e){return k(e.getFullYear(),e.getMonth(),e.getDate())}function a(e){var a,s,n=null;if(v={},e&&e.length)for(s=0;s<e.length;s++)a=H(e[s],r,m,m.isoParts),n=n||a,v[t(a)]=a;return n}function s(){e.redraw()}var i,l,r,c,d,u=de({},e.settings),m=de(e.settings,Ke,u),f="mbsc-selected "+(m.selectedClass||""),h=m.defaultValue,b="multiple"==m.select||m.select>1||"week"==m.selectType,p=o(m.select)?m.select:1/0,v={};return i=Ze.call(this,e),c=void 0===m.firstSelectDay?m.firstDay:m.firstSelectDay,r=e._format,b&&a(h),e._multiple=b,e._getDayProps=function(e){return{selected:b?void 0!==v[e]:void 0}},e._selectDay=function(t,a,i,o){if(m.setOnDayTap&&"multiple"!=m.select&&"inline"!=m.display)return e.setDate(i),void e.select();if(b)if("week"==m.selectType){var r,d,u=a.getDay()-c;for(u=u<0?7+u:u,"multiple"!=m.select&&(v={}),r=0;r<7;r++)d=k(a.getFullYear(),a.getMonth(),a.getDate()-u+r),o?delete v[d]:n(v).length/7<p&&(v[d]=d);s()}else{var h=ie('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',l);o?(h.removeClass(f).removeAttr("aria-selected"),delete v[a]):n(v).length<p&&(h.addClass(f).attr("aria-selected","true"),v[a]=a)}e.__selectDay(t,a,i)},e.setVal=function(t,n,i,o,l){b&&(t=a(t)),e._setVal(t,n,i,o,l),b&&s()},e.getVal=function(t){var a,s=[];if(b){for(a in v)s.push(W(v[a],m,r));return s}return W(e.getDate(t),m,r)},de({},i,{highlight:!b,outerMonthChange:!b,parseValue:function(e){return b&&e&&"string"==typeof e&&(e=a(e.split(","))),b&&h&&h.length&&(m.defaultValue=h[0]),i.parseValue.call(this,e)},formatValue:function(t){var a,s=[];if(b){for(a in v)s.push(S(r,v[a],m));return s.join(", ")}return i.formatValue.call(this,t,e)},onClear:function(){b&&(v={},s())},onBeforeShow:function(){void 0!==m.setOnDayTap||m.buttons&&m.buttons.length||1!=m.controls.length||(m.setOnDayTap=!0),m.setOnDayTap&&"inline"!=m.display&&(m.outerMonthChange=!1),m.counter&&b&&(m.headerText=function(){var e=0,t="week"==m.selectType?7:1;return ie.each(v,function(){e++}),e=Math.round(e/t),(e>1?m.selectedPluralText||m.selectedText:m.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),l=ie(e.target),b&&(ie(".mbsc-fr-hdr",l).attr("aria-live","off"),d=de({},v))},onCancel:function(){!e.live&&b&&(v=de({},d))}})},a("calendar",Ne),O.customTheme("mobiscroll-dark","mobiscroll");var Qe=O.themes,et="mobiscroll";return"android"==z?et="material":"ios"==z?et="ios":"wp"==z&&(et="windows"),ie.each(Qe.frame,function(e,t){return et&&t.baseTheme==et&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(O.autoTheme=e,!1):void(e==et&&(O.autoTheme=e))}),O});
