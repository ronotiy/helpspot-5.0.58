tinymce.PluginManager.add('hsstaffautocomplete',function(a,b){var b="admin?pg=ajax_gateway&action=staff_search_json",c=[],d=new Ajax.Request(b,{method:"post",onComplete:function(){staff_obj=JSON.parse(arguments[0].responseText);for(let a=0;a<staff_obj.length;a++){let b=staff_obj[a];c.push({value:b.id.toString(),text:b.text})}}});a.ui.registry.addAutocompleter('hsstaffautocomplete',{ch:'@',minChars:1,columns:1,fetch:function(a){var b=c.filter(function(b){return b.text.toLowerCase().split(" ").join("_").indexOf(a.toLowerCase().split(" ").join("_"))!==-1});return new tinymce.util.Promise(function(a){var c=b.map(function(a){return{value:a.value,text:a.text}});a(c)})},onAction:function(d,e,f){var b=f.split('|'),c=b[0],g=b[1],h;a.selection.setRng(e),a.insertContent("@"+g),d.hide(),h="ccstaff_public-select-multiple-"+c,add_notification(),$jq('#ccstaff_button').hide(),$jq('#ccstaff_public').show(),$jq('#request-drawer').show(),ms_select(h,c,'ccstaff')}})})