tinymce.PluginManager.add('hsresponseautocomplete',function(a,b){var b="admin?pg=ajax_gateway&action=response_search_json",c=[],d=new Ajax.Request(b,{method:"post",onComplete:function(){response_obj=JSON.parse(arguments[0].responseText);for(let a=0;a<response_obj.length;a++){let b=response_obj[a];c.push({value:b.id.toString(),text:b.text})}}});a.ui.registry.addAutocompleter('responseAuto',{ch:'#',minChars:1,columns:1,fetch:function(a){var b=c.filter(function(b){return b.text.toLowerCase().split(" ").join("_").indexOf(a.toLowerCase().split(" ").join("_"))!==-1});return new tinymce.util.Promise(function(a){var c=b.map(function(a){return{value:a.value,text:a.text}});a(c)})},onAction:function(b,c,d){a.selection.setRng(c),getResponse(d),b.hide()}})})